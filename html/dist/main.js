(()=>{"use strict";var e={5306:(e,t,n)=>{n.d(t,{Z:()=>ve});var o=n(445),i=n.n(o),r=n(352),s=n.n(r),a=n(8393),c=n.n(a),l=n(953),d=n(3523),h=n(3776),u=n(1325),p=n(7769),m=n(96),g=n(2186),f=n(7469),A=n(9516),b=n(9564),C=n(7952),v=n(7474),w=n(9752),B=n(9654),k=n(6881),y=n(2641),x=n(2),S=n(7586),E=n(7287),P=n(132),_=n(1332),D=n(1529),M=n(3639),O=n(6692),I=n(3289),j=n(9286),R=n(230),N=n(8652),T=n(7685),$=n(643),z=n(9892),U=n(8779),G=s()(i()),F=c()(l.Z),H=c()(d.Z),L=c()(h.Z),W=c()(u.Z),Z=c()(p.Z),Y=c()(m.Z),q=c()(g.Z),Q=c()(f.Z),V=c()(A.Z),K=c()(b.Z),J=c()(C.Z),X=c()(v.Z),ee=c()(w.Z),te=c()(B.Z),ne=c()(k.Z),oe=c()(y.Z),ie=c()(x.Z),re=c()(S.Z),se=c()(E.Z),ae=c()(P.Z),ce=c()(_.Z),le=c()(D.Z),de=c()(M.Z),he=c()(O.Z),ue=c()(I.Z),pe=c()(j.Z),me=c()(R.Z),ge=c()(N.Z),fe=c()(T.Z),Ae=c()($.Z),be=c()(z.Z),Ce=c()(U.Z);G.push([e.id,".ui-icon.icon-bucket{background-image:url("+F+")}.ui-icon.icon-circle-check{background-image:url("+H+")}.ui-icon.icon-circle-arrow-up{background-image:url("+L+")}.ui-icon.icon-circle-arrow-down{background-image:url("+W+")}.ui-icon.icon-circle-arrow-left{background-image:url("+Z+")}.ui-icon.icon-circle-arrow-right{background-image:url("+Y+")}.ui-icon.icon-checker{background-image:url("+q+")}.ui-icon.icon-code-file{background-image:url("+Q+")}.ui-icon.icon-copy{background-image:url("+V+")}.ui-icon.icon-cut{background-image:url("+K+")}.ui-icon.icon-dismiss{background-image:url("+J+")}.ui-icon.icon-ellipsis{background-image:url("+X+")}.ui-icon.icon-eraser{background-image:url("+ee+")}.ui-icon.icon-eye{background-image:url("+te+")}.ui-icon.icon-eyedropper{background-image:url("+ne+")}.ui-icon.icon-equalizer{background-image:url("+oe+")}.ui-icon.icon-floppy{background-image:url("+ie+")}.ui-icon.icon-grid{background-image:url("+re+")}.ui-icon.icon-gradient{background-image:url("+se+")}.ui-icon.icon-minus{background-image:url("+ae+")}.ui-icon.icon-paste{background-image:url("+ce+")}.ui-icon.icon-palette{background-image:url("+le+")}.ui-icon.icon-pencil{background-image:url("+de+")}.ui-icon.icon-plus{background-image:url("+he+")}.ui-icon.icon-redo{background-image:url("+ue+")}.ui-icon.icon-return{background-image:url("+pe+")}.ui-icon.icon-select{background-image:url("+me+")}.ui-icon.icon-undo{background-image:url("+ge+")}.ui-icon.icon-select{background-image:url("+me+")}.ui-icon.icon-corners{background-image:url("+fe+")}.ui-icon.icon-crop{background-image:url("+Ae+")}.ui-icon.icon-full-frame{background-image:url("+be+")}.ui-icon.icon-grid-crossed{background-image:url("+Ce+")}\n","",{version:3,sources:["webpack://./src/components/icons.css"],names:[],mappings:"AAAA,qBAAuB,wDAAyC,CAAI,2BACvC,wDAA+C,CAAI,8BAChD,wDAAkD,CAAI,gCACpD,wDAAoD,CAAI,gCACxD,wDAAoD,CAAI,iCACvD,wDAAqD,CAAI,sBACpE,wDAA0C,CAAI,wBAC5C,wDAA4C,CAAI,mBACrD,wDAAuC,CAAI,kBAC5C,wDAAsC,CAAI,sBACtC,yDAA0C,CAAI,uBAC7C,yDAA2C,CAAI,qBACjD,yDAAyC,CAAI,kBAChD,yDAAsC,CAAI,yBACnC,yDAA6C,CAAI,wBAClD,yDAA4C,CAAI,qBACnD,yDAAyC,CAAI,mBAC/C,yDAAuC,CAAI,uBACvC,yDAA2C,CAAI,oBAClD,yDAAwC,CAAI,oBAC5C,yDAAwC,CAAI,sBAC1C,yDAA0C,CAAI,qBAC/C,yDAAyC,CAAI,mBAC/C,yDAAuC,CAAI,mBAC3C,yDAAuC,CAAI,qBACzC,yDAAyC,CAAI,qBAC7C,yDAAyC,CAAI,mBAC/C,yDAAuC,CAAI,qBACzC,yDAAyC,CAAI,sBAC5C,yDAA0C,CAAI,mBACjD,yDAAuC,CAAI,yBACrC,yDAA6C,CAAI,2BAC/C,yDAA+C",sourcesContent:['.ui-icon.icon-bucket { background-image: url("icons/bucket.svg"); }\n.ui-icon.icon-circle-check { background-image: url("icons/circle-check.svg"); }\n.ui-icon.icon-circle-arrow-up { background-image: url("icons/circle-arrow-up.svg"); }\n.ui-icon.icon-circle-arrow-down { background-image: url("icons/circle-arrow-down.svg"); }\n.ui-icon.icon-circle-arrow-left { background-image: url("icons/circle-arrow-left.svg"); }\n.ui-icon.icon-circle-arrow-right { background-image: url("icons/circle-arrow-right.svg"); }\n.ui-icon.icon-checker { background-image: url("icons/checker.svg"); }\n.ui-icon.icon-code-file { background-image: url("icons/code-file.svg"); }\n.ui-icon.icon-copy { background-image: url("icons/copy.svg"); }\n.ui-icon.icon-cut { background-image: url("icons/cut.svg"); }\n.ui-icon.icon-dismiss { background-image: url("icons/dismiss.svg"); }\n.ui-icon.icon-ellipsis { background-image: url("icons/ellipsis.svg"); }\n.ui-icon.icon-eraser { background-image: url("icons/eraser.svg"); }\n.ui-icon.icon-eye { background-image: url("icons/eye.svg"); }\n.ui-icon.icon-eyedropper { background-image: url("icons/eyedropper.svg"); }\n.ui-icon.icon-equalizer { background-image: url("icons/equalizer.svg"); }\n.ui-icon.icon-floppy { background-image: url("icons/floppy.svg"); }\n.ui-icon.icon-grid { background-image: url("icons/grid.svg"); }\n.ui-icon.icon-gradient { background-image: url("icons/gradient.svg"); }\n.ui-icon.icon-minus { background-image: url("icons/minus.svg"); }\n.ui-icon.icon-paste { background-image: url("icons/paste.svg"); }\n.ui-icon.icon-palette { background-image: url("icons/palette.svg"); }\n.ui-icon.icon-pencil { background-image: url("icons/pencil.svg"); }\n.ui-icon.icon-plus { background-image: url("icons/plus.svg"); }\n.ui-icon.icon-redo { background-image: url("icons/redo.svg"); }\n.ui-icon.icon-return { background-image: url("icons/return.svg"); }\n.ui-icon.icon-select { background-image: url("icons/select.svg"); }\n.ui-icon.icon-undo { background-image: url("icons/undo.svg"); }\n.ui-icon.icon-select { background-image: url("icons/select.svg"); }\n.ui-icon.icon-corners { background-image: url("icons/corners.svg"); }\n.ui-icon.icon-crop { background-image: url("icons/crop.svg"); }\n.ui-icon.icon-full-frame { background-image: url("icons/full-frame.svg"); }\n.ui-icon.icon-grid-crossed { background-image: url("icons/grid-crossed.svg"); }'],sourceRoot:""}]);const ve=G},1600:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(445),i=n.n(o),r=n(352),s=n.n(r)()(i());s.push([e.id,".ui-button-wrap{display:inline-flex;align-items:stretch}.ui-button-wrap.split>.split-part>.ui-icon.size-8{margin-left:0}.ui-button{display:inline-flex;align-items:center;padding:0.6em}.ui-button>.ui-icon.size-8{margin-left:0.6em}.ui-color-picker>.layer.slider-2d .ui-range .handle,.ui-color-picker>.layer.slider-1d .ui-range .handle,.ui-color-picker>.layer.slider-alpha .ui-range .handle{width:8px;height:8px;border:solid 1px silver;background:white}.ui-color-picker>.layer.slider-2d .ui-range .handle:before,.ui-color-picker>.layer.slider-1d .ui-range .handle:before,.ui-color-picker>.layer.slider-alpha .ui-range .handle:after{content:'.';color:transparent;width:40px;height:40px;background:rgba(127,127,127,0.2);position:absolute;border-radius:100%;top:-16px;left:-16px}.ui-color-picker .swatch{display:block;height:20px}.ui-color-picker>.layer{margin:10px 0}.ui-color-picker>.layer:first-child{margin-top:0}.ui-color-picker>.layer:last-child{margin-bottom:0}.ui-color-picker>.layer.swatch{border-radius:5px;overflow:hidden;border:none;height:40px}.ui-color-picker>.layer.swatch .swatch{height:40px}.ui-color-picker>.layer.slider-2d .ui-range{height:100px;background-size:100% 100px;background-repeat:no-repeat;border-radius:5px;border:none}.ui-color-picker>.layer.slider-1d .ui-range{border:none;border-radius:5px;height:10px;margin:30px 0}.ui-color-picker>.layer.slider-alpha .ui-range{border:none;height:10px;margin:30px 0;background-color:transparent;background-size:contain;background-repeat:repeat}.ui-color-picker>.layer.slider-alpha .ui-range:before{content:'.';color:transparent;position:absolute;left:0;top:0;right:0;bottom:0;background:linear-gradient(90deg, rgba(255,255,255,0) 0%, #fff 100%);border-radius:5px}.ui-color-picker>.layer.inputs{display:flex}.ui-color-picker>.layer.inputs .item{flex-shrink:3;text-align:center}.ui-color-picker>.layer.inputs .item.hex{flex-shrink:1}.ui-color-picker>.layer.inputs .item .label{margin:10px 0}.ui-color-picker>.layer.inputs .item input{width:70%;text-align:center}.ui-clickable:not(.disabled){cursor:pointer}.ui-clickable.disabled{opacity:0.3}.ui-icon{background:center center no-repeat;background-size:100% 100%}.ui-icon.size-8{width:8px;height:8px}.ui-icon.size-16{width:16px;height:16px}.ui-icon.size-20{width:20px;height:20px}.ui-icon.size-32{width:32px;height:32px}.ui-icon.size-50{width:50px;height:50px}.ui-item-group{display:inline-flex;overflow:hidden;align-items:stretch}.ui-label.with-icon{display:flex;align-items:center}.ui-label.with-icon .ui-icon{margin-right:0.5em}.ui-label .desc{opacity:50%}.ui-separator{position:relative;height:1em}.ui-separator::after{display:block;position:absolute;content:'.';color:transparent;left:0;right:0;top:50%;height:1px}.ui-textbox{display:inline-flex;position:relative;border:solid 1px WindowFrame;background-color:white}.ui-textbox input{border:none;background-color:white}.ui-textbox input:focus{outline:none}.ui-menuitem{position:relative;display:flex;align-items:center;padding:0.6em;cursor:pointer}.ui-menuitem .ui-icon.icon-chevron-right{position:absolute;right:0.6em}.ui-menuitem .ui-label{padding-right:25px}.ui-tree-item{display:flex;padding:0.6em;align-items:center;cursor:pointer}.ui-tree-item>.collapse-glyph{margin-right:0.6em}.ui-range{height:40px;border-radius:20px;background:#f0f0f0;background-size:contain;position:relative}.ui-range .handle{position:absolute;width:40px;height:40px;border-radius:100%;background:Highlight}.ui-dock-view,.ui-dock-view>.dock-side,.ui-dock-view>.main-side{position:absolute;top:0;left:0;right:0;bottom:0}.ui-dock-view .dock-side,.ui-dock-view>.main-side{overflow:auto}.ui-dock-view.side-left>.dock-side{right:auto}.ui-dock-view.side-top>.dock-side{bottom:auto}.ui-dock-view.side-right>.dock-side{left:auto}.ui-dock-view.side-bottom>.dock-side{top:auto}.ui-split-view.side-left>.dock-side{border-right-style:solid;border-right-width:1px}.ui-split-view.side-top>.dock-side{border-bottom-style:solid;border-bottom-width:1px}.ui-split-view.side-right>.dock-side{border-left-style:solid;border-left-width:1px}.ui-split-view.side-bottom>.dock-side{border-top-style:solid;border-top-width:1px}.ui-tab-view>.tabs>.items>.tab{padding-left:2em;padding-right:2em}.ui-tree-view{position:absolute;top:0;left:0;right:0;bottom:0}.ui-toolbar-view>.toolbar{display:flex;justify-content:space-between}.ui-toolbar-view>.toolbar>.items{display:flex;align-items:stretch}.ui-toolbar-view>.content{flex-grow:1;overflow:auto}.ui-toolbar-view.side-left>.toolbar,.ui-toolbar-view.side-right>.toolbar{flex-direction:column}.ui-toolbar-view.side-left>.toolbar>.items,.ui-toolbar-view.side-right>.toolbar>.items{flex-direction:column}.ui-menu-overlay{min-width:100px;box-shadow:3px 3px 3px rgba(0,0,0,0.3);z-index:10000}.ui-suggestions-overlay{background-color:Menu}.ui-suggestions-overlay .ui-clickable,.ui-suggestions-overlay .ui-loader{padding:0.6em}.ui-overlay{position:fixed;z-index:10000}.ui-clickable.is-open{background-color:Highlight;color:HighlightText}.ui-button-wrap.split:hover>.ui-button-split-part,.ui-button-wrap.split:hover>.ui-button,.ui-button:hover:not(.face-never):not(.disabled),.ui-clickable.selected:not(.disabled),.ui-button.is-open{background-color:Highlight;color:HighlightText}.ui-menuitem.is-open,.ui-menuitem.is-selected{background-color:Highlight;color:HighlightText}.ui-menu-overlay,.ui-suggestions-overlay{background-color:Window;color:WindowText;border:solid 1px #ddd;box-shadow:2px 2px 2px rgba(0,0,0,0.2)}.ui-separator:after{background-color:rgba(0,0,0,0.13)}.ui-item-group{border:solid 1px #ddd;border-radius:0.5em}.ui-item-group>.ui-clickable.selected:not(.disabled){background-color:#ddd}.ui-split-view>.dock-side{border-color:#ddd}.ui-tab-view>.tabs{background-color:#ddd}.ui-tab-view>.tabs>.items>.tab{margin-top:0.6em}.ui-tab-view>.tabs>.items>.selected{background-color:white}.ui-tree-view:focus .ui-tree-item.selected{background-color:Highlight;color:HighlightText}.ui-tree-item.selected{background-color:#f0f0f0;color:HighlightText}.ui-tree-item:not(.selected):hover{background-color:#E3EFFE}\n","",{version:3,sources:["webpack://./src/hui/items/Button.scss","webpack://./src/hui/items/ColorPicker.scss","webpack://./src/hui/items/Clickable.scss","webpack://./src/hui/items/Icon.scss","webpack://./src/hui/items/ItemGroup.scss","webpack://./src/hui/items/Label.scss","webpack://./src/hui/items/Separator.scss","webpack://./src/hui/items/TextBox.scss","webpack://./src/hui/items/MenuItem.scss","webpack://./src/hui/items/TreeItem.scss","webpack://./src/hui/items/Range.scss","webpack://./src/hui/layout/DockView.scss","webpack://./src/hui/layout/SplitView.scss","webpack://./src/hui/layout/TabView.scss","webpack://./src/hui/layout/TreeView.scss","webpack://./src/hui/layout/ToolbarView.scss","webpack://./src/hui/overlays/MenuOverlay.scss","webpack://./src/hui/overlays/SuggestionsOverlay.scss","webpack://./src/hui/overlays/Overlay.scss","webpack://./src/hui/css/theme.scss"],names:[],mappings:"AAAA,gBACE,mBAAoB,CACpB,mBAAoB,CAFtB,kDAOQ,aAAc,CACf,WAML,mBAAoB,CACpB,kBAAmB,CACnB,aAAc,CAHhB,2BAMI,iBAAkB,CACnB,+JCVC,SAAU,CACV,UAAW,CACX,uBAAwB,CACxB,gBAAiB,CAbrB,mLAiBI,WAAY,CACZ,iBAAkB,CAClB,UAAW,CACX,WAAY,CACZ,gCAAoC,CACpC,iBAAkB,CAClB,kBAAmB,CACnB,SAAU,CACV,UAAW,CAzBf,yBA6BI,aAAc,CACd,WAAY,CA9BhB,wBAkCI,aAAc,CAlClB,oCAoCmB,YAAa,CApChC,mCAqCkB,eAAgB,CArClC,+BAyCM,iBAnCqB,CAoCrB,eAAgB,CAChB,WAtCe,CAuCf,WArCgB,CAPtB,uCA8CQ,WAvCc,CAPtB,4CAoDQ,YAAa,CACb,0BAA2B,CAC3B,2BAA4B,CAC5B,iBAjDmB,CAkDnB,WAnDa,CALrB,4CAkEQ,WA7Da,CA8Db,iBA7DmB,CA8DnB,WAlEc,CAmEd,aAlEgB,CAHxB,+CA+EQ,WA1Ea,CA2Eb,WA9Ec,CA+Ed,aA9EgB,CA+EhB,4BAA6B,CAC7B,uBAAwB,CACxB,wBAAyB,CApFjC,sDA0FU,WAAY,CAAE,iBAAkB,CAChC,iBAAkB,CAClB,MAAO,CAAE,KAAM,CAAE,OAAQ,CAAE,QAAS,CACpC,oEAAoF,CACpF,iBAxFiB,CAN3B,+BAmGM,YAAa,CAnGnB,qCAqGQ,aAAc,CACd,iBAAkB,CAtG1B,yCAyGU,aAAc,CAzGxB,4CA4GU,aAAc,CA5GxB,2CAgHU,SAAU,CACV,iBAAkB,CACnB,6BC/GL,cAAe,CAHnB,uBAOI,WAAY,CACb,SCPD,kCAAmC,CACnC,yBAA0B,CAF5B,gBAIa,SAAU,CAAG,UAAW,CAJrC,iBAKa,UAAW,CAAE,WAAY,CALtC,iBAMa,UAAW,CAAE,WAAY,CANtC,iBAOa,UAAW,CAAE,WAAY,CAPtC,iBAQa,UAAW,CAAE,WAAY,CAAI,eCPxC,mBAAoB,CACpB,eAAgB,CAChB,mBAAoB,CACrB,oBCDG,YAAa,CACb,kBAAmB,CAJvB,6BAOM,kBAAmB,CAPzB,gBAYI,WAAY,CACb,cCZD,iBAAkB,CAClB,UAAW,CAFb,qBAKI,aAAc,CACd,iBAAkB,CAClB,WAAY,CACZ,iBAAkB,CAClB,MAAO,CACP,OAAQ,CACR,OAAQ,CACR,UAAW,CACZ,YCZD,mBAAoB,CACpB,iBAAkB,CAClB,4BAA6B,CAC7B,sBAAuB,CAJzB,kBAOI,WAAY,CACZ,sBAAuB,CAR3B,wBAUM,YAAa,CACd,aCVH,iBAAkB,CAClB,YAAa,CACb,kBAAmB,CACnB,aAAc,CACd,cAAe,CALjB,yCAaI,iBAAkB,CAClB,WAAY,CAdhB,uBAkBI,kBAAmB,CACpB,cClBD,YAAa,CACb,aAAc,CACd,kBAAmB,CACnB,cAAe,CAJjB,8BAOI,kBAAmB,CACpB,UCND,WAAY,CACZ,kBAAmB,CACnB,kBAAmB,CACnB,uBAAwB,CACxB,iBAAkB,CANpB,kBASI,iBAAkB,CAClB,UAAW,CACX,WAAY,CACZ,kBAAmB,CACnB,oBAAqB,CACtB,gECXC,iBAAkB,CAClB,KAAK,CACL,MAAM,CACN,OAAQ,CACR,QAAQ,CAPZ,kDAWI,aAAc,CAXlB,mCAc8B,UAAY,CAd1C,kCAe8B,WAAY,CAf1C,oCAgB8B,SAAY,CAhB1C,qCAiB8B,QAAY,CAAI,oCCfhB,wBAAyB,CAAE,sBAAuB,CAFhF,mCAG8B,yBAA0B,CAAE,uBAAwB,CAHlF,qCAI8B,uBAAwB,CAAE,qBAAsB,CAJ9E,sCAK8B,sBAAuB,CAAE,oBAAqB,CAAI,+BCF1E,gBAAiB,CACjB,iBAAkB,CACnB,cCJH,iBAAkB,CAClB,KAAM,CACN,MAAO,CACP,OAAQ,CACR,QAAS,CACV,0BCHG,YAAa,CACb,6BAA8B,CAJlC,iCAOM,YAAa,CACb,mBAAoB,CAR1B,0BAaI,WAAY,CACZ,aAAc,CAdlB,yEAmBM,qBAAsB,CAnB5B,uFAsBQ,qBAAsB,CACvB,iBCtBL,eAAgB,CAChB,sCAA0C,CAC1C,aAAc,CACf,wBCHC,qBAAsB,CADxB,yEAII,aAAc,CACf,YCJD,cAAe,CACf,aAAc,CACf,sBCQG,0BAV4B,CAW5B,mBAVgC,CAWnC,mMAOG,0BAnB4B,CAoB5B,mBAnBgC,CAoBnC,8CAIG,0BAvB+B,CAwB/B,mBAvBmC,CAwBtC,yCAIG,uBA3Bc,CA4Bd,gBA3BkB,CA4BlB,qBA3BgB,CA4BhB,sCAA0C,CAC7C,oBAGG,iCA/B2B,CfR/B,ee0CI,qBAnCgB,CAoChB,mBAAoB,CACvB,qDAGG,qBAAsB,CACzB,0BAE4B,iBA3CT,CA2C0C,mBAEvC,qBAAsB,CNpD7C,+BMqDuC,gBAAiB,CAAG,oCACf,sBAAuB,CAAI,2CAGnE,0BAA2B,CAC3B,mBAAoB,CACvB,uBAGG,wBAAyB,CACzB,mBAAoB,CACvB,mCAGG,wBAAyB",sourcesContent:[".ui-button-wrap{\n  display: inline-flex;\n  align-items: stretch;\n\n  &.split {\n    > .split-part {\n      > .ui-icon.size-8 {\n        margin-left: 0;\n      }\n    }\n  }\n}\n\n.ui-button{\n  display: inline-flex;\n  align-items: center;\n  padding: 0.6em;\n\n  > .ui-icon.size-8{\n    margin-left: 0.6em;\n  }\n}",".ui-color-picker{\n\n  $slider-height: 10px;\n  $slider-margin: 30px 0;\n  $handle-margin-top: -14px;\n  $layer-border: none; //solid 1px #808080;\n  $layer-border-radius: 5px;\n  $swatch-height: 40px;\n\n  %handle{\n    width: 8px;\n    height: 8px;\n    border: solid 1px silver;\n    background: white;\n  }\n\n  %handleAura{\n    content: '.';\n    color: transparent;\n    width: 40px;\n    height: 40px;\n    background: rgba(127, 127, 127, 0.2);\n    position: absolute;\n    border-radius: 100%;\n    top: -16px;\n    left: -16px;\n  }\n\n  .swatch{\n    display: block;\n    height: 20px;\n  }\n\n  > .layer{\n    margin: 10px 0;\n\n    &:first-child{ margin-top: 0; }\n    &:last-child{ margin-bottom: 0; }\n\n    &.swatch{\n\n      border-radius: $layer-border-radius;\n      overflow: hidden;\n      border: $layer-border;\n      height: $swatch-height;\n      .swatch{\n        height: $swatch-height;\n      }\n    }\n\n    &.slider-2d{\n      .ui-range{\n        height: 100px;\n        background-size: 100% 100px;\n        background-repeat: no-repeat;\n        border-radius: $layer-border-radius;\n        border: $layer-border;\n        .handle{\n          @extend %handle;\n          &:before{ @extend %handleAura; }\n        }\n      }\n    }\n\n    &.slider-1d{\n      .ui-range{\n        border: $layer-border;\n        border-radius: $layer-border-radius;\n        height: $slider-height;\n        margin: $slider-margin;\n        .handle{\n          @extend %handle;\n          &:before{ @extend %handleAura; }\n        }\n      }\n    }\n\n    &.slider-alpha{\n      .ui-range{\n        border: $layer-border;\n        height: $slider-height;\n        margin: $slider-margin;\n        background-color: transparent;\n        background-size: contain;\n        background-repeat: repeat;\n        .handle{\n          @extend %handle;\n          &:after{ @extend %handleAura; }\n        }\n        &:before{\n          content: '.'; color: transparent;\n          position: absolute;\n          left: 0; top: 0; right: 0; bottom: 0;\n          background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%);\n          border-radius: $layer-border-radius;\n        }\n      }\n    }\n    &.inputs{\n      display: flex;\n      .item{\n        flex-shrink: 3;\n        text-align: center;\n\n        &.hex{\n          flex-shrink: 1;\n        }\n        .label{\n          margin: 10px 0;\n        }\n\n        input{\n          width: 70%;\n          text-align: center;\n        }\n      }\n    }\n  }\n\n}",".ui-clickable{\n\n  &:not(.disabled){\n    cursor: pointer;\n  }\n\n  &.disabled{\n    opacity: 0.3;\n  }\n\n  &.is-open,&:hover{\n\n  }\n}",".ui-icon {\n  background: center center no-repeat;\n  background-size: 100% 100%;\n\n  &.size-8 { width: 8px;  height: 8px;  }\n  &.size-16{ width: 16px; height: 16px; }\n  &.size-20{ width: 20px; height: 20px; }\n  &.size-32{ width: 32px; height: 32px; }\n  &.size-50{ width: 50px; height: 50px; }\n\n}\n",".ui-item-group{\n  display: inline-flex;\n  overflow: hidden;\n  align-items: stretch;\n}",".ui-label{\n\n  &.with-icon{\n    display: flex;\n    align-items: center;\n\n    .ui-icon{\n      margin-right: 0.5em;\n    }\n  }\n\n  .desc{\n    opacity: 50%;\n  }\n}\n",".ui-separator{\n  position: relative;\n  height: 1em;\n\n  &::after{\n    display: block;\n    position: absolute;\n    content: '.';\n    color: transparent;\n    left: 0;\n    right: 0;\n    top: 50%;\n    height: 1px;\n  }\n}",".ui-textbox {\n  display: inline-flex;\n  position: relative;\n  border: solid 1px WindowFrame;\n  background-color: white;\n\n  input{\n    border: none;\n    background-color: white;\n    &:focus{\n      outline: none;\n    }\n  }\n}",".ui-menuitem{\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 0.6em;\n  cursor: pointer;\n\n\n  &.is-open,&:hover{\n    /* Colors */\n  }\n\n  .ui-icon.icon-chevron-right{\n    position: absolute;\n    right: 0.6em;\n  }\n\n  .ui-label{\n    padding-right: 25px; // Based on a 16px icon to be positioned as chevron to the right\n  }\n}",".ui-tree-item{\n  display: flex;\n  padding: 0.6em;\n  align-items: center;\n  cursor: pointer;\n\n  > .collapse-glyph {\n    margin-right: 0.6em;\n  }\n}\n\n.tree-item-children{\n}",".ui-range{\n\n  height: 40px;\n  border-radius: 20px;\n  background: #f0f0f0;\n  background-size: contain;\n  position: relative;\n\n  .handle{\n    position: absolute;\n    width: 40px;\n    height: 40px;\n    border-radius: 100%;\n    background: Highlight;\n  }\n\n}",".ui-dock-view{\n\n  &, > .dock-side, > .main-side{\n    position: absolute;\n    top:0;\n    left:0;\n    right: 0;\n    bottom:0;\n  }\n\n  .dock-side, > .main-side {\n    overflow: auto;\n  }\n\n  &.side-left   > .dock-side{ right:  auto; }\n  &.side-top    > .dock-side{ bottom: auto; }\n  &.side-right  > .dock-side{ left:   auto; }\n  &.side-bottom > .dock-side{ top:    auto; }\n}",".ui-split-view{\n\n  &.side-left > .dock-side{   border-right-style: solid; border-right-width: 1px; }\n  &.side-top > .dock-side{    border-bottom-style: solid; border-bottom-width: 1px; }\n  &.side-right > .dock-side{  border-left-style: solid; border-left-width: 1px; }\n  &.side-bottom > .dock-side{ border-top-style: solid; border-top-width: 1px; }\n}",".ui-tab-view{\n  > .tabs{\n    > .items > .tab{\n      padding-left: 2em;\n      padding-right: 2em;\n    }\n  }\n\n}",".ui-tree-view{\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}",".ui-toolbar-view{\n\n  > .toolbar{\n    display: flex;\n    justify-content: space-between;\n\n    > .items{\n      display: flex;\n      align-items: stretch;\n    }\n  }\n\n  > .content{\n    flex-grow: 1;\n    overflow: auto;\n  }\n\n  &.side-left, &.side-right{\n    > .toolbar{\n      flex-direction: column;\n\n      > .items{\n        flex-direction: column;\n      }\n    }\n  }\n\n}",".ui-menu-overlay {\n  min-width: 100px;\n  box-shadow: 3px 3px 3px rgba(0, 0, 0, 0.3);\n  z-index: 10000;\n}",".ui-suggestions-overlay{\n  background-color: Menu;\n\n  .ui-clickable, .ui-loader{\n    padding: 0.6em;\n  }\n}",".ui-overlay{\n  position: fixed;\n  z-index: 10000;\n}","\n$button-face-hover-bg: Highlight !default;\n$button-face-hover-fg: HighlightText !default;\n$button-face-selected-bg: Highlight !default;\n$button-face-selected-fg: HighlightText !default;\n$window-bg: Window !default;\n$window-fg: WindowText !default;\n$window-border: #ddd !default;\n$separator: rgba(0, 0, 0, 0.13) !default;\n\n.ui-clickable.is-open{\n    background-color: $button-face-hover-bg;\n    color: $button-face-hover-fg;\n}\n\n.ui-button-wrap.split:hover > .ui-button-split-part,\n.ui-button-wrap.split:hover > .ui-button,\n.ui-button:hover:not(.face-never):not(.disabled),\n.ui-clickable.selected:not(.disabled),\n.ui-button.is-open{\n    background-color: $button-face-hover-bg;\n    color: $button-face-hover-fg;\n}\n\n.ui-menuitem.is-open,\n.ui-menuitem.is-selected{\n    background-color: $button-face-selected-bg;\n    color: $button-face-selected-fg;\n}\n\n.ui-menu-overlay,\n.ui-suggestions-overlay{\n    background-color: $window-bg;\n    color: $window-fg;\n    border: solid 1px $window-border;\n    box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\n}\n\n.ui-separator:after{\n    background-color: $separator;\n}\n.ui-item-group{\n    border: solid 1px $window-border;\n    border-radius: 0.5em;\n}\n\n.ui-item-group > .ui-clickable.selected:not(.disabled){\n    background-color: #ddd;\n}\n\n.ui-split-view > .dock-side{ border-color: $window-border;  }\n\n.ui-tab-view > .tabs { background-color: #ddd;}\n.ui-tab-view > .tabs  > .items > .tab {margin-top: 0.6em;}\n.ui-tab-view > .tabs  > .items > .selected{ background-color: white; }\n\n.ui-tree-view:focus .ui-tree-item.selected{\n    background-color: Highlight;\n    color: HighlightText;\n}\n\n.ui-tree-item.selected{\n    background-color: #f0f0f0;\n    color: HighlightText;\n}\n\n.ui-tree-item:not(.selected):hover{\n    background-color: #E3EFFE;\n}"],sourceRoot:""}]);const a=s},4561:(e,t,n)=>{n.d(t,{Z:()=>P});var o=n(445),i=n.n(o),r=n(352),s=n.n(r),a=n(8393),c=n.n(a),l=n(6789),d=n(4951),h=n(6803),u=n(6090),p=n(2590),m=n(7839),g=n(2318),f=n(5164),A=n(230),b=s()(i()),C=c()(l.Z),v=c()(d.Z),w=c()(h.Z),B=c()(u.Z),k=c()(p.Z),y=c()(m.Z),x=c()(g.Z),S=c()(f.Z),E=c()(A.Z);b.push([e.id,"body{font:caption}.ui-panel>div{margin:50px}.ui-icon.icon-cross{background-image:url("+C+")}.ui-icon.icon-floppy{background-image:url("+v+")}.ui-icon.icon-file{background-image:url("+w+")}.ui-icon.icon-folder{background-image:url("+B+")}.ui-icon.icon-chevron-up{background-image:url("+k+")}.ui-icon.icon-chevron-down{background-image:url("+y+")}.ui-icon.icon-chevron-left{background-image:url("+x+")}.ui-icon.icon-chevron-right{background-image:url("+S+")}.ui-icon.icon-select{background-image:url("+E+")}\n","",{version:3,sources:["webpack://./src/hui/css/styles.css"],names:[],mappings:"AAAA,KACI,YAAa,CAChB,cAGG,WAAY,CAEf,oBAEqB,wDAA8C,CAAI,qBACjD,wDAAmD,CAAI,mBACzD,wDAAkD,CAAI,qBACpD,wDAA8C,CAAI,yBAC9C,wDAAkD,CAAI,2BACpD,wDAAoD,CAAI,2BACxD,wDAAoD,CAAI,4BACvD,wDAAqD,CAAI,qBAChE,wDAA0D",sourcesContent:['body{\n    font: caption;\n}\n\n.ui-panel > div {\n    margin: 50px;\n    /*box-shadow: 0 0 0 3px blue;*/\n}\n\n.ui-icon.icon-cross { background-image: url("icons/0822-cross2.svg"); }\n.ui-icon.icon-floppy { background-image: url("icons/0175-floppy-disk.svg"); }\n.ui-icon.icon-file { background-image: url("icons/0180-file-empty.svg"); }\n.ui-icon.icon-folder { background-image: url("icons/0187-folder.svg"); }\n.ui-icon.icon-chevron-up { background-image: url("icons/0826-chevron-up.svg"); }\n.ui-icon.icon-chevron-down { background-image: url("icons/0827-chevron-down.svg"); }\n.ui-icon.icon-chevron-left { background-image: url("icons/0828-chevron-left.svg"); }\n.ui-icon.icon-chevron-right { background-image: url("icons/0829-chevron-right.svg"); }\n.ui-icon.icon-select { background-image: url("../../components/icons/select.svg"); }'],sourceRoot:""}]);const P=b},4800:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(445),i=n.n(o),r=n(352),s=n.n(r)()(i());s.push([e.id,"div.canvas-view{position:absolute;top:0;left:0;right:0;bottom:0;overscroll-behavior:none;height:100%;overflow:hidden}div.canvas-view canvas:focus{outline:none}.color-usage-report .entry{display:flex;margin-bottom:5px}.color-usage-report .entry .swatch{width:16px;height:16px;border-radius:100%;margin-right:10px;margin-top:5px}.color-usage-report .entry .lighter{opacity:0.5;margin-right:10px;background:white;color:black;border-radius:5px;padding:0 7px;text-transform:uppercase}.color-replacer>.swatch{height:40px;border-radius:5px}.container-panel{border-radius:10px}.container-panel>.marker{position:absolute}.container-panel>.marker.n,.container-panel>.marker.s{height:1px;left:0;right:0}.container-panel>.marker.e,.container-panel>.marker.w{width:1px;top:0;bottom:0}.container-panel>.marker.n{top:10px}.container-panel>.marker.s{bottom:10px}.container-panel>.marker.w{left:10px}.container-panel>.marker.e{right:10px}.container-panel>.content{position:absolute;top:10px;left:10px;right:10px;bottom:10px}.expando{margin-bottom:10px}.expando>.head{display:flex;align-items:center;justify-content:space-between;height:50px;border-top-left-radius:10px;border-top-right-radius:10px}.expando>.head>.label{margin-left:10px}.expando>.head>.items{display:flex}.expando>.head>.items>.ui-label{margin-right:10px;opacity:0.3}.expando>.body{min-height:20px;border-radius:10px;padding:10px}.expando>.body>.children>.ui-button{display:block}.expando>.body>.children>.ui-item-group{display:flex}.expando>.body>.children>.ui-item-group>.ui-button{flex:1 1 0;border-radius:0 !important}.preview-panel{position:relative;display:flex;align-items:center;border-radius:7px}.preview-panel:not(:last-child){margin-bottom:10px}.preview-panel.level-1,.preview-panel.level-2{justify-content:space-between}.preview-panel.level-1>.preview,.preview-panel.level-2>.preview{margin-right:10px}.preview-panel.level-3,.preview-panel.level-4{flex-direction:column}.preview-panel.level-3>.preview,.preview-panel.level-4>.preview{margin-bottom:10px}.preview-panel.level-3 .size-label,.preview-panel.level-4 .size-label{margin:10px 0}.preview-panel.level-3 .ui-button.ellipsis,.preview-panel.level-4 .ui-button.ellipsis{position:absolute;right:0;bottom:0;padding:0}.preview-panel.level-1>.preview{width:64px;height:64px}.preview-panel.level-2>.preview{width:128px;height:128px}.preview-panel.level-3>.preview{width:192px;height:192px}.preview-panel.level-4>.preview{width:256px;height:256px}.preview-panel>.preview{display:flex;justify-content:center;align-items:center;overflow:hidden}.preview-panel.selected>.preview{border-right:solid 1px transparent}.ui-palette .palette-label{opacity:0.5}.ui-palette>.palette-label{margin-bottom:10px}.ui-palette .palette-preview{cursor:pointer;font-size:0.8em;padding:10px;border-radius:4px;margin-bottom:3px}.ui-palette .palette-preview:not(:last-child){margin-bottom:10px}.ui-palette .palette-preview .swatches{display:flex;overflow:hidden}.ui-palette .palette-preview .swatch{width:15px;height:15px;border-radius:7px;flex-shrink:0}.ui-palette .palette-preview .swatch:not(:last-child){margin-right:10px}.ui-palette .swatches>div:not(.label){display:inline-block}.ui-palette .swatches .ui-clickable{padding:10px;margin-right:10px;margin-bottom:10px}.ui-palette .swatches .pal-swatch{border-radius:4px}.ui-palette .swatches .pal-swatch>div{border-radius:10px;width:20px;height:20px}div.ui-palette textarea{width:100%;min-height:300px;border:none}.review-studio>.ui-dock-view{margin:10px}.review-studio .container-panel.main-panel{position:absolute;top:0;left:0;right:0;bottom:0}.review-studio .container-panel.main-panel>.content{display:flex;align-items:center;flex-direction:column;justify-content:center}.review-studio .container-panel.main-panel>.content>.row{width:270px;text-align:center}.review-studio .container-panel.main-panel>.content>.row:not(:last-child){margin-bottom:50px}.review-studio .container-panel.main-panel>.content>.row>.caption{font-size:20px;margin:10px 0}.review-studio .container-panel.main-panel>.content>.row .corner-grid>.row{display:flex;justify-content:center}.review-studio .container-panel.main-panel>.content>.row .corner-grid>.row:not(:last-child){margin-bottom:10px}.review-studio .container-panel.main-panel>.content>.row .corner-grid .corner{width:70px;height:70px;border-radius:10px;cursor:pointer}.review-studio .container-panel.main-panel>.content>.row .corner-grid .corner:not(:last-child){margin-right:10px}.review-studio .container-panel.main-panel>.content>.row .ui-button.cta{font-size:20px;padding:15px 60px;border-radius:50px}.review-studio .review-studio-sidebar{position:relative;margin-left:10px}.review-studio .review-studio-sidebar .container-panel.preview{height:220px;position:relative}.review-studio .review-studio-sidebar .container-panel.preview .content{display:flex;justify-content:center}.review-studio .review-studio-sidebar .key-navigation .row{display:flex;justify-content:center}.review-studio .review-studio-sidebar .key-navigation .row>div{width:50px;height:50px}.review-studio .review-studio-sidebar .key-navigation .row>div.ui-button{padding:0;border-radius:100%}html{height:100%;overflow:hidden;position:relative}body{margin:0;height:100%;overflow:auto;position:relative;overscroll-behavior:none;font-family:'Mukta Mahee', 'San Francisco', 'Helvetica', sans-serif}#app{user-select:none;height:100%;overflow:hidden;position:absolute;top:0;left:0;right:0;bottom:0}#app .ui-button{border-radius:5px}#app .toolbar .ui-button,#app .expando>.head>.items .ui-button{padding:0}#app .toolbar .ui-button:focus,#app .expando>.head>.items .ui-button:focus{outline:none}#app .adjusters>.ui-range:first-child{margin-bottom:10px}#app .editor-sidebar{margin:0 10px}#app .canvas-main.main-side{overflow:hidden;height:100%;overscroll-behavior:none}#app .side-top>.toolbar.main-tools>.items.near{margin:10px}#app .side-top>.toolbar.main-tools>.items.near .ui-button{margin-right:5px}#app .side-left>.toolbar.main-tools>.items.near,#app .side-left>.toolbar.main-tools>.items.center,#app .side-left>.toolbar.main-tools>.items.far{margin:0 10px}#app .side-left>.toolbar.main-tools>.items.near .ui-button,#app .side-left>.toolbar.main-tools>.items.center .ui-button,#app .side-left>.toolbar.main-tools>.items.far .ui-button{margin-bottom:5px}#app .ui-button:focus{outline:none}#app .cue{text-align:right;font-size:0.7em;opacity:0.5;font-family:monospace}#app .cta.ui-button{border-radius:30px;display:block;background-color:#3175ef;color:white;text-align:center}#root-dialog .modal{position:fixed;top:0;left:0;right:0;bottom:0}#version{text-align:right;opacity:0.2}.ui-clickable.is-open{background-color:rgba(0,0,0,0.0392157)}.ui-button-wrap.split:hover>.ui-button-split-part,.ui-button-wrap.split:hover>.ui-button,.ui-button:hover:not(.face-never):not(.disabled),.ui-clickable.selected:not(.disabled),.ui-button.is-open{background-color:rgba(0,0,0,0.0392157)}.ui-menuitem.is-open,.ui-menuitem.is-selected{background-color:rgba(0,0,0,0.0392157)}.ui-button:focus{box-shadow:0 0 10px 0 rgba(5,148,255,0.51)}.ui-button.cta{background-color:#0052A8;color:#fff}.ui-button.cta:hover{background-color:#2780de !important;color:#fff !important}.expando>.head{color:#101010}.expando>.body{background-color:rgba(0,0,0,0.05)}.expando>.body>.children>.ui-item-group{border:solid 1px rgba(0,0,0,0.784314)}.expando>.body>.children>.ui-item-group .ui-button.selected:not(.disabled){background-color:rgba(0,0,0,0.784314)}.preview-panel.selected{background-color:rgba(0,0,0,0.0392157)}.preview-panel.selected>.preview{border-right:solid 1px rgba(0,0,0,0.784314)}.ui-range{background:rgba(0,0,0,0.784314)}.ui-range .handle{background-color:rgba(0,0,0,0.0392157)}.pal-swatch,.palette-preview{background-color:rgba(0,0,0,0.784314)}.pal-swatch.selected,.pal-swatch:hover,.palette-preview.selected,.palette-preview:hover{background-color:rgba(0,0,0,0.0392157)}#root-dialog .modal{background-color:#fff}.container-panel{background-color:rgba(0,0,0,0.784314)}.container-panel>.marker{background-color:rgba(0,0,0,0.784314)}.review-studio .corner-grid .corner{border:solid 1px #555}.review-studio .corner-grid .corner:not(.selected):hover{background-color:rgba(0,0,0,0.0392157)}.review-studio .corner-grid .corner.selected{background-color:#0052A8}.ui-button.start-button{background-color:#FF3B3B;color:white;border-radius:40px !important;padding:0 30px !important;box-shadow:0 3px 3px 2px #000}.ui-button.start-button:hover{background-color:#FF5757 !important;color:white !important}@media (prefers-color-scheme: dark){body{background:#25252B;color:#828282}.ui-clickable.is-open{background-color:rgba(255,255,255,0.0980392);color:#828282}.ui-button-wrap.split:hover>.ui-button-split-part,.ui-button-wrap.split:hover>.ui-button,.ui-button:hover:not(.face-never):not(.disabled),.ui-clickable.selected:not(.disabled),.ui-button.is-open{background-color:rgba(255,255,255,0.0980392);color:#828282}.ui-menuitem.is-open,.ui-menuitem.is-selected{background-color:rgba(255,255,255,0.0980392);color:#828282}.ui-menu-overlay,.ui-suggestions-overlay{background-color:#25252B;color:#828282;border:solid 1px rgba(255,255,255,0.0509804);box-shadow:2px 2px 2px rgba(0,0,0,0.2)}.ui-separator:after{background-color:rgba(255,255,255,0.0980392)}input,textarea{background:rgba(255,255,255,0.0509804);color:#828282}.ui-color-picker{font-size:14px}.ui-color-picker input{border:none;border-radius:5px}.expando>.head{color:#efefef}.expando>.body{background-color:rgba(255,255,255,0.05)}.expando>.body>.children>.ui-item-group{border:solid 1px rgba(255,255,255,0.0509804)}.expando>.body>.children>.ui-item-group .ui-button.selected:not(.disabled){background-color:rgba(255,255,255,0.0509804)}.preview-panel.selected{background-color:rgba(255,255,255,0.0980392)}.preview-panel.selected>.preview{border-right:solid 1px rgba(255,255,255,0.0509804)}.ui-range{background:rgba(255,255,255,0.0509804)}.ui-range .handle{background-color:rgba(255,255,255,0.0980392)}.pal-swatch,.palette-preview{background-color:rgba(255,255,255,0.0509804)}.pal-swatch.selected,.pal-swatch:hover,.palette-preview.selected,.palette-preview:hover{background-color:rgba(255,255,255,0.0980392)}#root-dialog .modal{background-color:#25252B}.container-panel{background-color:rgba(255,255,255,0.0509804)}.container-panel>.marker{background-color:rgba(255,255,255,0.0509804)}.review-studio .corner-grid .corner{border:solid 1px #828282}.review-studio .corner-grid .corner:not(.selected):hover{background-color:rgba(255,255,255,0.0980392)}.review-studio .corner-grid .corner.selected{background-color:#0052A8}}\n","",{version:3,sources:["webpack://./src/components/CanvasView.scss","webpack://./src/components/ColorUsageReport.scss","webpack://./src/components/ColorReplacer.scss","webpack://./src/components/ContainerPanel.scss","webpack://./src/components/Expando.scss","webpack://./src/components/PreviewPanel.scss","webpack://./src/components/Palette.scss","webpack://./src/components/PaletteManager.scss","webpack://./src/components/ReviewStudio.scss","webpack://./src/components/App.scss","webpack://./src/theme.scss"],names:[],mappings:"AAAA,gBAEE,iBAAkB,CAClB,KAAM,CAAE,MAAO,CAAE,OAAQ,CAAE,QAAQ,CACnC,wBAAyB,CACzB,WAAc,CACd,eAAgB,CANlB,6BASI,YAAa,CACd,2BCPC,YAAa,CACb,iBAAkB,CAJtB,mCAOM,UAAW,CACX,WAAY,CACZ,kBAAmB,CACnB,iBAAkB,CAClB,cAAe,CAXrB,oCAeM,WAAY,CACZ,iBAAkB,CAClB,gBAAiB,CACjB,WAAY,CACZ,iBAAkB,CAClB,aAAc,CACd,wBAAyB,CAC1B,wBCnBD,WAAY,CACZ,iBAAkB,CACnB,iBCFD,kBAHW,CAEb,yBAGc,iBAAkB,CAHhC,sDAI6B,UAAW,CAAE,MAAM,CAAE,OAAQ,CAJ1D,sDAK6B,SAAU,CAAE,KAAK,CAAE,QAAQ,CALxD,2BAMgB,QARH,CAEb,2BAOgB,WATH,CAEb,2BAQgB,SAVH,CAEb,2BASgB,UAXH,CAEb,0BAWI,iBAAkB,CAClB,QAdS,CAeT,SAfS,CAgBT,UAhBS,CAiBT,WAjBS,CAkBV,SCbD,kBAFY,CAHd,eASI,YAAa,CACb,kBAAmB,CACnB,6BAA8B,CAE9B,WAAY,CACZ,2BAZU,CAaV,4BAbU,CAFd,sBAkBM,gBAfQ,CAHd,sBAsBM,YAAa,CAtBnB,gCAyBQ,iBAtBM,CAuBN,WAAY,CA1BpB,eAiCI,eAAgB,CAChB,kBAhCU,CAiCV,YAhCU,CAHd,oCAuCQ,aAAc,CAvCtB,wCA2CQ,YAAa,CA3CrB,mDA6CU,UAAW,CACX,0BAA2B,CAC5B,eC3CP,iBAAkB,CAClB,YAAa,CACb,kBAAmB,CACnB,iBAAkB,CAPpB,gCAUI,kBARU,CAFd,8CAcI,6BAA8B,CAdlC,gEAgBM,iBAdQ,CAFd,8CAqBI,qBAAsB,CArB1B,gEAwBM,kBAtBQ,CAFd,sEA4BM,aAAgB,CA5BtB,sFAgCM,iBAAkB,CAClB,OAAQ,CACR,QAAS,CACT,SAAS,CAnCf,gCAwCiB,UAAW,CAAE,WAAY,CAxC1C,gCA4CiB,WAAY,CAAE,YAAa,CA5C5C,gCAgDiB,WAAY,CAAE,YAAa,CAhD5C,gCAoDiB,WAAY,CAAE,YAAa,CApD5C,wBAwDI,YAAa,CACb,sBAAuB,CACvB,kBAAmB,CACnB,eAAgB,CA3DpB,iCAgEM,kCAAmC,CACpC,2BC7DD,WAAY,CAJhB,2BAQI,kBAPS,CADb,6BAaI,cAAe,CACf,eAAgB,CAChB,YAdS,CAeT,iBAAkB,CAClB,iBAAkB,CAjBtB,8CAoBM,kBAnBO,CADb,uCAwBM,YAAa,CACb,eAAgB,CAzBtB,qCA6BM,UAAW,CACX,WAAY,CACZ,iBAAkB,CAClB,aAAc,CAhCpB,sDAmCQ,iBAlCK,CADb,sCA0CM,oBAAqB,CA1C3B,oCA8CM,YA7CO,CA8CP,iBA9CO,CA+CP,kBA/CO,CADb,kCAqDM,iBAAkB,CArDxB,sCAwDQ,kBAAmB,CACnB,UAAW,CACX,WAAY,CACb,wBCxDH,UAAW,CACX,gBAAiB,CACjB,WAAY,CACb,6BCCC,WAAY,CAHhB,2CAOI,iBAAkB,CAClB,KAAM,CAAE,MAAO,CACf,OAAQ,CAAE,QAAS,CATvB,oDAaM,YAAa,CACb,kBAAmB,CACnB,qBAAsB,CACtB,sBAAuB,CAhB7B,yDAmBQ,WAAY,CACZ,iBAAkB,CApB1B,0EAuBU,kBAAmB,CAvB7B,kEA2BU,cA7BO,CA8BP,aAAc,CA5BxB,2EAiCY,YAAa,CACb,sBAAuB,CAlCnC,4FAqCc,kBAxCA,CAGd,8EAyCY,UAAW,CACX,WAAY,CACZ,kBAAmB,CACnB,cAAe,CA5C3B,+FA+Cc,iBAlDA,CAGd,wEAqDU,cAvDO,CAwDP,iBAAkB,CAClB,kBAAmB,CAvD7B,sCA8DI,iBAAkB,CAClB,gBAAiB,CA/DrB,+DAkEM,YAAa,CACb,iBAAkB,CAnExB,wEAsEQ,YAAa,CACb,sBAAuB,CAvE/B,2DA6EQ,YAAa,CACb,sBAAuB,CA9E/B,+DAiFU,UAAW,CACX,WAAY,CAlFtB,yEAqFY,SAAU,CACV,kBAAmB,CACpB,KCzFT,WAAc,CACd,eAAgB,CAChB,iBAAkB,CACnB,KAEC,QAAS,CACT,WAAc,CACd,aAAc,CACd,iBAAkB,CAClB,wBAAyB,CACzB,mEAAoE,CACrE,KAIC,gBAAiB,CACjB,WAAc,CACd,eAAgB,CAChB,iBAAkB,CAClB,KAAM,CACN,MAAO,CACP,OAAQ,CACR,QAAS,CATX,gBAaI,iBAAkB,CAbtB,+DAkBI,SAAU,CAlBd,2EAoBM,YAAa,CApBnB,sCA0BM,kBAzBQ,CADd,qBA+BI,aAAc,CA/BlB,4BAmCI,eAAgB,CAChB,WAAY,CACZ,wBAAyB,CArC7B,+CA0CQ,WAAY,CA1CpB,0DA2CmB,gBAAiB,CA3CpC,iJAgDQ,aAAc,CAhDtB,kLAiDmB,iBAAkB,CAjDrC,sBAuDM,YAAa,CAvDnB,UA4DI,gBAAiB,CACjB,eAAgB,CAChB,WAAY,CACZ,qBAAsB,CA/D1B,oBAkEI,kBAAmB,CACnB,aAAc,CACd,wBAAyB,CACzB,WAAY,CACZ,iBAAkB,CACnB,oBAKD,cAAe,CACf,KAAM,CAAE,MAAO,CACf,OAAQ,CAAE,QAAS,CACpB,SClFC,gBAAiB,CACjB,WAAY,CACb,sBAGC,sCAjBsB,CAkBvB,mMAOC,sCAzBsB,CA0BvB,8CAIC,sCA9BsB,CA+BvB,iBAIG,0CAA2C,CAF/C,eAMI,wBAhCY,CAiCZ,UA/BS,CAwBb,qBAUM,mCAAwC,CACxC,qBAAyB,CAC1B,eAMD,aAAc,CAFlB,eAKI,iCAAqC,CALzC,wCASQ,qCAzDe,CAgDvB,2EAYY,qCA5DW,CA6DZ,wBASP,sCAvEoB,CAqExB,iCAGgB,2CAvEO,CAuEiC,UAKtD,+BA5EqB,CA2EvB,kBAGI,sCA/EoB,CAgFrB,6BAID,qCAnFqB,CAkFvB,wFAGI,sCAtFoB,CAuFrB,oBAID,qBAtFc,CAuFf,iBAGC,qCA9FqB,CA6FvB,yBAGc,qCAhGS,CAgGyB,oCAI9C,qBA/Fc,CA8FhB,yDAII,sCAxGoB,CAoGxB,6CAQI,wBArGY,CAsGb,wBAID,wBAAyB,CACzB,WAAY,CACZ,6BAA8B,CAC9B,yBAA0B,CAC1B,6BAA4C,CAL9C,8BAQI,mCAAoC,CACpC,sBAAuB,CACxB,oCAiBD,KACE,kBAPiB,CAQjB,aAPiB,CAQlB,sBAGC,4CAlBsB,CAmBtB,aAhB4B,CAiB7B,mMAOC,4CA3BsB,CA4BtB,aAzB4B,CA0B7B,8CAIC,4CAjCsB,CAkCtB,aA7B+B,CA8BhC,yCAIC,wBAjCiB,CAkCjB,aAjCiB,CAkCjB,4CAxCqB,CAyCrB,sCAA0C,CAC3C,oBAGC,4CA9CsB,CA+CvB,eAGC,sCAjDqB,CAkDrB,aA5CiB,CA6ClB,iBAGC,cAAe,CADjB,uBAII,WAAY,CACZ,iBAAkB,CACnB,eAKC,aAAc,CAFlB,eAKI,uCAA2C,CAL/C,wCASQ,4CAvEe,CA8DvB,2EAYY,4CA1EW,CA2EZ,wBASP,4CArFoB,CAmFxB,iCAGgB,kDArFO,CAqFiC,UAKtD,sCA1FqB,CAyFvB,kBAGI,4CA7FoB,CA8FrB,6BAID,4CAjGqB,CAgGvB,wFAGI,4CApGoB,CAqGrB,oBAID,wBAnGiB,CAoGlB,iBAGC,4CA5GqB,CA2GvB,yBAEc,4CA7GS,CA6GyB,oCAI9C,wBA3GiB,CA0GnB,yDAII,4CArHoB,CAiHxB,6CAQI,wBAjPU,CAkPX",sourcesContent:["div.canvas-view{\n\n  position: absolute;\n  top: 0; left: 0; right: 0; bottom:0;\n  overscroll-behavior: none;\n  height  : 100%;\n  overflow: hidden;\n\n  canvas:focus{\n    outline: none;\n  }\n\n}",".color-usage-report{\n\n  .entry{\n    display: flex;\n    margin-bottom: 5px;\n\n    .swatch{\n      width: 16px;\n      height: 16px;\n      border-radius: 100%;\n      margin-right: 10px;\n      margin-top: 5px;\n    }\n\n    .lighter{\n      opacity: 0.5;\n      margin-right: 10px;\n      background: white;\n      color: black;\n      border-radius: 5px;\n      padding: 0 7px;\n      text-transform: uppercase;\n    }\n\n  }\n\n}",".color-replacer{\n\n  > .swatch{\n    height: 40px;\n    border-radius: 5px;\n  }\n\n\n}","$radius: 10px;\n\n.container-panel{\n  border-radius: $radius;\n\n  > .marker { position: absolute; }\n  > .marker.n, > .marker.s { height: 1px; left:0; right: 0; }\n  > .marker.e, > .marker.w { width: 1px; top:0; bottom:0; }\n  > .marker.n { top: $radius }\n  > .marker.s { bottom: $radius }\n  > .marker.w { left: $radius }\n  > .marker.e { right: $radius }\n  > .content {\n    position: absolute;\n    top: $radius;\n    left: $radius;\n    right: $radius;\n    bottom: $radius;\n  }\n\n}",".expando{\n\n  $b-rad: 10px;\n  $space: 10px;\n\n  margin-bottom: $space;\n\n  > .head{\n\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    height: 50px;\n    border-top-left-radius: $b-rad;\n    border-top-right-radius: $b-rad;\n\n    > .label{\n      margin-left: $space;\n    }\n\n    > .items{\n      display: flex;\n\n      > .ui-label{\n        margin-right: $space;\n        opacity: 0.3;\n      }\n\n    }\n  }\n\n  > .body{\n    min-height: 20px;\n    border-radius: $b-rad;\n    padding: $space;\n\n    > .children{\n      > .ui-button{\n        display: block;\n      }\n\n      > .ui-item-group{\n        display: flex;\n        > .ui-button {\n          flex: 1 1 0;\n          border-radius: 0 !important;\n        }\n      }\n    }\n\n  }\n\n}",".preview-panel{\n\n  $space: 10px;\n\n  position: relative;\n  display: flex;\n  align-items: center;\n  border-radius: 7px;\n\n  &:not(:last-child){\n    margin-bottom: $space;\n  }\n\n  &.level-1, &.level-2{\n    justify-content: space-between;\n    > .preview {\n      margin-right: $space;\n    }\n  }\n\n  &.level-3, &.level-4{\n    flex-direction: column;\n\n    > .preview{\n      margin-bottom: $space;\n    }\n\n    .size-label{\n      margin: $space 0;\n    }\n\n    .ui-button.ellipsis{\n      position: absolute;\n      right: 0;\n      bottom: 0;\n      padding:0;\n    }\n  }\n\n  &.level-1{\n    > .preview { width: 64px; height: 64px; }\n  }\n\n  &.level-2{\n    > .preview { width: 128px; height: 128px;}\n  }\n\n  &.level-3{\n    > .preview { width: 192px; height: 192px;}\n  }\n\n  &.level-4{\n    > .preview { width: 256px; height: 256px;}\n  }\n\n  > .preview {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    overflow: hidden;\n  }\n\n  &.selected{\n    > .preview {\n      border-right: solid 1px transparent;\n    }\n  }\n\n}",".ui-palette{\n  $space:10px;\n\n  .palette-label{\n    opacity: 0.5;\n  }\n\n  > .palette-label{\n    margin-bottom: $space;\n  }\n\n  .palette-preview{\n\n    cursor: pointer;\n    font-size: 0.8em;\n    padding:$space;\n    border-radius: 4px;\n    margin-bottom: 3px;\n\n    &:not(:last-child){\n      margin-bottom: $space;\n    }\n\n    .swatches{\n      display: flex;\n      overflow: hidden;\n    }\n\n    .swatch{\n      width: 15px;\n      height: 15px;\n      border-radius: 7px;\n      flex-shrink: 0;\n\n      &:not(:last-child){\n        margin-right: $space;\n      }\n    }\n  }\n\n  .swatches{\n    > div:not(.label) {\n      display: inline-block;\n    }\n\n    .ui-clickable{\n      padding: $space;\n      margin-right: $space;\n      margin-bottom: $space;\n    }\n\n    .pal-swatch{\n\n      border-radius: 4px;\n\n      > div {\n        border-radius: 10px;\n        width: 20px;\n        height: 20px;\n      }\n    }\n  }\n}","div.ui-palette{\n\n  textarea{\n    width: 100%;\n    min-height: 300px;\n    border: none;\n  }\n\n}","\n$spacing: 10px;\n$large-font: 20px;\n\n.review-studio{\n\n  > .ui-dock-view{\n    margin: 10px;\n  }\n\n  .container-panel.main-panel{\n    position: absolute;\n    top: 0; left: 0;\n    right: 0; bottom: 0;\n\n    > .content {\n\n      display: flex;\n      align-items: center;\n      flex-direction: column;\n      justify-content: center;\n\n      > .row {\n        width: 270px;\n        text-align: center;\n\n        &:not(:last-child){\n          margin-bottom: 50px;\n        }\n\n        > .caption {\n          font-size: $large-font;\n          margin: 10px 0;\n        }\n\n        .corner-grid{\n          > .row{\n            display: flex;\n            justify-content: center;\n\n            &:not(:last-child){\n              margin-bottom: $spacing;\n            }\n          }\n          .corner{\n            width: 70px;\n            height: 70px;\n            border-radius: 10px;\n            cursor: pointer;\n\n            &:not(:last-child){\n              margin-right: $spacing;\n            }\n          }\n        }\n\n        .ui-button.cta{\n          font-size: $large-font;\n          padding: 15px 60px;\n          border-radius: 50px;\n        }\n      }\n    }\n  }\n\n  .review-studio-sidebar{\n    position: relative;\n    margin-left: 10px;\n\n    .container-panel.preview{\n      height: 220px;\n      position: relative;\n\n      .content{\n        display: flex;\n        justify-content: center;\n      }\n    }\n\n    .key-navigation{\n      .row{\n        display: flex;\n        justify-content: center;\n\n        > div{\n          width: 50px;\n          height: 50px;\n\n          &.ui-button{\n            padding: 0;\n            border-radius: 100%;\n          }\n        }\n      }\n    }\n\n  }\n}","\nhtml {\n  height  : 100%;\n  overflow: hidden;\n  position: relative;\n}\nbody {\n  margin: 0;\n  height  : 100%;\n  overflow: auto;\n  position: relative;\n  overscroll-behavior: none;\n  font-family: 'Mukta Mahee', 'San Francisco', 'Helvetica', sans-serif;\n}\n\n#app{\n  $space: 10px;\n  user-select: none;\n  height  : 100%;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n\n\n  .ui-button{\n    border-radius: 5px;\n  }\n\n  .toolbar .ui-button,\n  .expando > .head > .items .ui-button{\n    padding: 0;\n    &:focus{\n      outline: none;\n    }\n  }\n\n  .adjusters > .ui-range{\n    &:first-child{\n      margin-bottom: $space;\n    }\n  }\n\n  .editor-sidebar{\n    margin: 0 10px;\n  }\n\n  .canvas-main.main-side{\n    overflow: hidden;\n    height: 100%;\n    overscroll-behavior: none;\n  }\n\n  .side-top > .toolbar.main-tools {\n     > .items.near{\n        margin: 10px;\n       .ui-button{ margin-right: 5px; }\n    }\n  }\n  .side-left > .toolbar.main-tools {\n     > .items.near, >.items.center, >.items.far{\n        margin: 0 10px;\n       .ui-button{ margin-bottom: 5px; }\n    }\n  }\n\n  .ui-button{\n    &:focus{\n      outline: none;\n    }\n  }\n\n  .cue {\n    text-align: right;\n    font-size: 0.7em;\n    opacity: 0.5;\n    font-family: monospace;\n  }\n  .cta.ui-button{\n    border-radius: 30px;\n    display: block;\n    background-color: #3175ef;\n    color: white;\n    text-align: center;\n  }\n\n}\n\n#root-dialog .modal{\n  position: fixed;\n  top: 0; left: 0;\n  right: 0; bottom: 0;\n}","$color-strong: #0000000a;\n$color-light: #000000c8;\n$color-lighter: #000000e2;\n$button-face-hover-bg: $color-strong;\n$button-face-selected-bg: $color-strong;\n$window-bg: #fff;\n$window-fg: #555;\n$cta-bg: #0052A8;\n$cta-bg-hot: #2780de;\n$cta-fg: #fff;\n\n#version{\n  text-align: right;\n  opacity: 0.2;\n}\n\n.ui-clickable.is-open{\n  background-color: $button-face-hover-bg;\n}\n\n.ui-button-wrap.split:hover > .ui-button-split-part,\n.ui-button-wrap.split:hover > .ui-button,\n.ui-button:hover:not(.face-never):not(.disabled),\n.ui-clickable.selected:not(.disabled),\n.ui-button.is-open{\n  background-color: $button-face-hover-bg;\n}\n\n.ui-menuitem.is-open,\n.ui-menuitem.is-selected{\n  background-color: $button-face-selected-bg;\n}\n\n.ui-button{\n  &:focus{\n    box-shadow: 0 0 10px 0 rgba(5,148,255,0.51);\n  }\n\n  &.cta{\n    background-color: $cta-bg;\n    color: $cta-fg;\n\n    &:hover{\n      background-color: $cta-bg-hot !important;\n      color: $cta-fg !important;\n    }\n  }\n}\n\n.expando {\n  > .head{\n    color: #101010;\n  }\n  > .body{\n    background-color: rgba(0, 0, 0, 0.05);\n\n    > .children{\n      > .ui-item-group{\n        border: solid 1px $color-light;\n        .ui-button{\n          &.selected:not(.disabled){\n            background-color: $color-light;\n          }\n        }\n      }\n    }\n  }\n}\n\n.preview-panel {\n  &.selected{\n    background-color: $color-strong;\n    > .preview{ border-right: solid 1px $color-light; }\n  }\n}\n\n.ui-range{\n  background: $color-light;\n  .handle{\n    background-color: $color-strong;\n  }\n}\n\n.pal-swatch, .palette-preview{\n  background-color: $color-light;\n  &.selected,&:hover{\n    background-color: $color-strong;\n  }\n}\n\n#root-dialog .modal{\n  background-color: $window-bg;\n}\n\n.container-panel{\n  background-color: $color-light;\n\n  > .marker { background-color: $color-light; }\n}\n\n.review-studio .corner-grid .corner {\n  border: solid 1px $window-fg;\n\n  &:not(.selected):hover{\n    background-color: $color-strong;\n  }\n\n  &.selected{\n    background-color: $cta-bg;\n  }\n}\n\n.ui-button.start-button{\n  background-color: #FF3B3B;\n  color: white;\n  border-radius: 40px !important;\n  padding: 0 30px !important;\n  box-shadow: 0 3px 3px 2px rgba(0, 0, 0, 50%);\n\n  &:hover{\n    background-color: #FF5757 !important;\n    color: white !important;\n  }\n}\n\n/* Dark mode */\n@media (prefers-color-scheme: dark) {\n  $color-strong: #ffffff19;\n  $color-light: #ffffff0d;\n  $button-face-hover-bg: $color-strong;\n  $button-face-hover-fg: #828282;\n  $button-face-selected-bg: $color-strong;\n  $button-face-selected-fg: #828282;\n  $window-bg: #25252B;\n  $window-fg: #828282;\n  $window-border: $color-light;\n  $separator: $color-strong;\n  $text-box-bg: $color-light;\n\n  body{\n    background: $window-bg;\n    color: $window-fg;\n  }\n\n  .ui-clickable.is-open{\n    background-color: $button-face-hover-bg;\n    color: $button-face-hover-fg;\n  }\n\n  .ui-button-wrap.split:hover > .ui-button-split-part,\n  .ui-button-wrap.split:hover > .ui-button,\n  .ui-button:hover:not(.face-never):not(.disabled),\n  .ui-clickable.selected:not(.disabled),\n  .ui-button.is-open{\n    background-color: $button-face-hover-bg;\n    color: $button-face-hover-fg;\n  }\n\n  .ui-menuitem.is-open,\n  .ui-menuitem.is-selected{\n    background-color: $button-face-selected-bg;\n    color: $button-face-selected-fg;\n  }\n\n  .ui-menu-overlay,\n  .ui-suggestions-overlay{\n    background-color: $window-bg;\n    color: $window-fg;\n    border: solid 1px $window-border;\n    box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\n  }\n\n  .ui-separator:after{\n    background-color: $separator;\n  }\n\n  input, textarea{\n    background: $text-box-bg;\n    color: $window-fg;\n  }\n\n  .ui-color-picker{\n    font-size: 14px;\n\n    input{\n      border: none;\n      border-radius: 5px;\n    }\n  }\n\n  .expando {\n    > .head{\n      color: #efefef;\n    }\n    > .body{\n      background-color: rgba(255, 255, 255, 0.05);\n\n      > .children{\n        > .ui-item-group{\n          border: solid 1px $color-light;\n          .ui-button{\n            &.selected:not(.disabled){\n              background-color: $color-light;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  .preview-panel {\n    &.selected{\n      background-color: $color-strong;\n      > .preview{ border-right: solid 1px $color-light; }\n    }\n  }\n\n  .ui-range{\n    background: $color-light;\n    .handle{\n      background-color: $color-strong;\n    }\n  }\n\n  .pal-swatch, .palette-preview{\n    background-color: $color-light;\n    &.selected,&:hover{\n      background-color: $color-strong;\n    }\n  }\n\n  #root-dialog .modal{\n    background-color: $window-bg;\n  }\n\n  .container-panel{\n    background-color: $color-light;\n    > .marker { background-color: $color-light; }\n  }\n\n  .review-studio .corner-grid .corner {\n    border: solid 1px $window-fg;\n\n    &:not(.selected):hover{\n      background-color: $color-strong;\n    }\n\n    &.selected{\n      background-color: $cta-bg;\n    }\n  }\n\n}"],sourceRoot:""}]);const a=s},953:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/fa2b951e78320c01827bc9ac3adc3784.svg"},2186:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/da77af6df38f4fc3ba6088bfec456115.svg"},1325:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/45dc825bf29037e37a1f3ad9f8d36698.svg"},7769:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/ba5f78e580afd7e5c3947889b753da33.svg"},96:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/388f69ce8ecac97eedec7ea08e3579f9.svg"},3776:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/82681b8396865c2b9f0cca73f199e54b.svg"},3523:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/239d8eac76f04697355baec73b69da5c.svg"},7469:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/b7ace863c734f5fed4df1a20899085cc.svg"},9516:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/daeb284051c74da3976abab2ac330645.svg"},7685:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/d85bd057b1c1c6702ee833f0101d756f.svg"},643:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/5e3c35a7a81289ff467c2023d7169ca8.svg"},9564:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/6660616bd1a6093cd5b0f679004ecde9.svg"},7952:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/1a917ae890e4da4265edd5968c3c8f11.svg"},7474:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/820f7b8de7fba0ea94526290972b828f.svg"},2641:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/e4be7fb03d83a3b1e9080745e58b0b79.svg"},9752:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/7fb165a6ae89527c4ecb5a7448e2eb05.svg"},9654:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/f1f4e0ab7dab76a3d235e29fc58546c0.svg"},6881:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/e2babadcd10e3392b642fd95ac5c1157.svg"},2:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/ffeb5e9a15a27e92596e816350b5c227.svg"},9892:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/ebef5026c98408d876668f6784364994.svg"},7287:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/26fe8b4dde77818a368138c236d9dd59.svg"},8779:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/dafcceff7570d4c8b6eca361206792d1.svg"},7586:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/04926be5218e648b0dcf64aca5e1ec31.svg"},132:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/6d01d668977e0cc06cf9fda924f45c7c.svg"},1529:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/1900c4b5c135af417bf79814428d1639.svg"},1332:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/ab85e08084162fe117ff0164c40335ee.svg"},3639:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/c26f6f7ceb9e284305725c5c59e3d765.svg"},6692:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/9477dca6b724b89b305963b9b46cbbc9.svg"},3289:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/10079e5f3a28bf4164a1495e0e20dc17.svg"},9286:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/e9da72544a3330cc52ca45e2bbda0411.svg"},230:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/b3890d6011ef034907470bd16feada8d.svg"},8652:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/1234ba77aa491342e808e1cd6ab1c422.svg"},4951:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/eaa6b0d5c4b755a1c5f442a5b31d3913.svg"},6803:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/1c7c2677071e811d4aca7f0b4a48fbb3.svg"},6090:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/ae2087a3922088a93b0f3fde77c0e56f.svg"},6789:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/bb9f1f8d917fff10d0587496ee1e8cfd.svg"},2590:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/38aee18e86f51b62ad5e548bd745488d.svg"},7839:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/384b04f25826b885bb36dbf1d2d847c1.svg"},2318:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/16d86ed52ad1cc4fa6e0eb00d1794003.svg"},5164:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"images/12f0f97012b8956a484acfdd52300568.svg"},352:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(o)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);o&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},445:e=>{function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}e.exports=function(e){var n,o,i=(o=4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return n}}(n,o)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=i[1],s=i[3];if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),l="/*# ".concat(c," */"),d=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[r].concat(d).concat([l]).join("\n")}return[r].join("\n")}},8393:e=>{e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},5701:(e,t,n)=>{var o,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),r=[];function s(e){for(var t=-1,n=0;n<r.length;n++)if(r[n].identifier===e){t=n;break}return t}function a(e,t){for(var n={},o=[],i=0;i<e.length;i++){var a=e[i],c=t.base?a[0]+t.base:a[0],l=n[c]||0,d="".concat(c," ").concat(l);n[c]=l+1;var h=s(d),u={css:a[1],media:a[2],sourceMap:a[3]};-1!==h?(r[h].references++,r[h].updater(u)):r.push({identifier:d,updater:g(u,t),references:1}),o.push(d)}return o}function c(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var s=i(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var l,d=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function h(e,t,n,o){var i=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var r=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function u(e,t,n){var o=n.css,i=n.media,r=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var p=null,m=0;function g(e,t){var n,o,i;if(t.singleton){var r=m++;n=p||(p=c(t)),o=h.bind(null,n,r,!1),i=h.bind(null,n,r,!0)}else n=c(t),o=u.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var i=s(n[o]);r[i].references--}for(var c=a(e,t),l=0;l<n.length;l++){var d=s(n[l]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}n=c}}}},7805:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var o=n(5701),i=n.n(o),r=n(5306);i()(r.Z,{insert:"head",singleton:!1});const s=r.Z.locals||{}},4512:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var o=n(5701),i=n.n(o),r=n(1600);i()(r.Z,{insert:"head",singleton:!1});const s=r.Z.locals||{}},4728:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var o=n(5701),i=n.n(o),r=n(4561);i()(r.Z,{insert:"head",singleton:!1});const s=r.Z.locals||{}},9620:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var o=n(5701),i=n.n(o),r=n(4800);i()(r.Z,{insert:"head",singleton:!1});const s=r.Z.locals||{}},27:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;const s=r(n(3804));class a extends s.Component{render(){return s.createElement("div",{id:"version"},"0.1.4")}}t.Version=a},78:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const s=r(n(3804)),a=n(6333),c=n(9875),l=n(7782),d=n(875),h=n(6271),u=n(5780),p=a.makeSz(32,32);class m extends s.Component{constructor(e){super(e),this.state={}}handleNewBook(e){const t=h.BookService.newBook(e),n=new c.BookController(t);this.setState({bookController:n})}componentDidMount(){u.DocumentService.restoreIcons().then((e=>{let t=h.BookService.newBook(p);e&&e.length>0&&(t=h.BookService.fromIcons(e));const n=new c.BookController(t);this.setState({bookController:n})}))}render(){let e=s.createElement(l.Label,{text:"Loading..."});return this.state.bookController&&(e=s.createElement(d.BookEditor,{bookController:this.state.bookController,onNewBook:e=>this.handleNewBook(e)})),s.createElement("div",{id:"app"},e)}}t.App=m},6984:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BookCommands=t.MAPPINGS=void 0;const s=r(n(3804)),a=r(n(7196)),c=n(491),l=n(1281),d=n(6394),h=n(2947),u=n(9570),p=n(602),m=n(6606);t.MAPPINGS=[{key:"z",command:e=>e.commandRedo(),shift:!0},{key:"z",command:e=>e.commandUndo()},{key:"v",command:e=>e.commandPaste()},{key:"c",command:e=>e.commandCopy()},{key:"x",command:e=>e.commandCut()},{key:"a",command:e=>e.commandSelectAll()},{key:"d",command:e=>e.commandUsePen(),flat:!0},{key:"v",command:e=>e.commandUseSelection(),flat:!0},{key:"f",command:e=>e.commandUseFlood(),flat:!0},{key:"e",command:e=>e.commandUseEraser(),flat:!0},{key:"b",command:e=>e.commandSwapBg(),flat:!0},{key:"g",command:e=>e.commandSwapGrid(),flat:!0}],t.BookCommands=class{constructor(e,t,n){this.bookController=e,this.state=t,this.setter=n}setState(e){this.setter(e)}useTool(e){this.setState({tool:e})}importFile(e){if(e.name.toLowerCase().endsWith(".ico")){const t=this.state.iconController.id,n=this.state.iconController.editor.pristine;this.bookController.importIcoFile(e).then((e=>{e.forEach((e=>{e.showBackground=this.state.showBackground,e.showGrid=this.state.showGrid})),n&&this.bookController.removeIcon(t),this.commandGoToIcon(e[0].id)}))}else this.state.iconController.importFile(e).then((e=>{this.setState({tool:e}),this.bookController.persist()}))}commandCopy(){this.state.iconController.copy().then((()=>console.log("Copied"))).catch((e=>console.log(`Not copied: ${e}`)))}commandCut(){this.state.iconController.cut().then((()=>console.log("Did cut"))).catch((e=>console.log(`Didn't cut: ${e}`)))}commandPaste(){this.state.iconController.paste().then((e=>{e.warnings.length>0&&(console.log(` - Warnings: ${e.warnings.length}`),e.warnings.forEach((e=>console.log(`   - ${e}`)))),e.success&&e.tool&&this.setState({tool:e.tool})})).catch((e=>console.log(`Not pasted: ${e}`)))}commandImportFileDialog(){const e=document.createElement("input");e.type="file",e.style.display="none",e.onchange=t=>{e.files&&e.files.length>0&&this.importFile(e.files[0])},document.body.appendChild(e),setTimeout((()=>e.click()))}commandUseDither(){this.useTool(new c.AdjustTool(this.state.iconController))}commandUseEraser(){this.useTool(new l.EraserTool(this.state.iconController))}commandUseFlood(){this.useTool(new d.FloodFillTool(this.state.iconController))}commandUsePaletteComposer(){this.useTool(new h.PaletteComposerTool(this.state.iconController))}commandUsePen(){this.useTool(new u.PencilTool(this.state.iconController))}commandUseSelection(){this.useTool(new p.SelectionTool(this.state.iconController))}commandSwapBg(){const e=!this.state.showBackground;this.state.iconController.showBackground=e,this.setState({showBackground:e})}commandSwapGrid(){const e=!this.state.showGrid;this.state.iconController.showGrid=e,this.setState({showGrid:e})}commandSelectAll(){const{tool:e}=this.state;e instanceof p.SelectionTool||this.commandUseSelection(),setTimeout((()=>e.selectAll()))}commandReview(){const{iconController:e}=this.state;a.render(s.createElement(m.ReviewStudio,{icon:e.editor.document.icon,onCloseRequested:()=>{a.unmountComponentAtNode(document.getElementById("root-dialog"))}}),document.getElementById("root-dialog"))}commandUndo(){var e;const{iconController:t,tool:n}=this.state;t.editor.undo();const o=this.state.undos+1;!(null===(e=t.editor.undoPeek)||void 0===e?void 0:e.selectionRegion)||n instanceof p.SelectionTool?this.setState({undos:o}):this.setState({undos:o,tool:new p.SelectionTool(t)})}commandRedo(){var e;const{iconController:t,tool:n}=this.state;t.editor.redo();const o=this.state.redos+1;!(null===(e=t.editor.redoPeek)||void 0===e?void 0:e.selectionRegion)||n instanceof p.SelectionTool?this.setState({redos:o}):this.setState({redos:o,tool:new p.SelectionTool(t)})}commandGoToIcon(e){const t=this.bookController.getIconController(e);if(!t)throw new Error;const n=t.tool,o=t.showGrid,i=t.showBackground;this.setState({tool:n,iconController:t,showGrid:o,showBackground:i})}}},875:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BookEditor=void 0;const s=r(n(3804)),a=n(2633),c=n(2461),l=n(8529),d=n(3921),h=n(3074),u=n(9875),p=n(78),m=n(602),g=n(6984),f=n(900);class A extends s.Component{constructor(e){super(e),this.keyboardHandler=e=>this.handleKeyboard(e),this.state=this.initBookController(e.bookController)}initBookController(e){e.onUpdated=()=>{if(e===this.props.bookController){const t=e.iconControllers,n=e.iconPreviews;this.setState({iconControllers:t,iconPreviews:n})}};const t=e.iconControllers[0],n=e.iconControllers,o=e.iconPreviews,i=new m.SelectionTool(t);return n.forEach((e=>this.initController(e))),f.IconService.asBlobUrl(t.editor.document.icon).then((e=>u.changeFavicon(e))),{iconController:t,iconControllers:n,iconPreviews:o,tool:i,undos:0,redos:0,showBackground:!0,showGrid:!0}}initController(e){this.state?(e.showBackground=this.state.showBackground,e.showGrid=this.state.showBackground):(e.showBackground=!0,e.showGrid=!0)}newBook(e){this.props.onNewBook&&this.props.onNewBook(e)}addIcon(e){const t=this.props.bookController.addIcon(e),n=new m.SelectionTool(t);this.initController(t),this.setState({tool:n,iconController:t})}removeIcon(e){const t=this.props.bookController.removeIcon(e);t?(this.initController(t),this.getCommands().commandGoToIcon(t.id)):this.getCommands().commandGoToIcon(this.props.bookController.iconControllers[0].id)}getCommands(){return new g.BookCommands(this.props.bookController,this.state,(e=>this.setState(e)))}handleDragOver(e){e.preventDefault()}handleDrop(e){var t;if(e.preventDefault(),(null===(t=e.dataTransfer)||void 0===t?void 0:t.items)&&e.dataTransfer.items.length>0){const t=e.dataTransfer.items[0].getAsFile();t?this.getCommands().importFile(t):console.log("Can't get as file")}}handleKeyboard(e){const t=document.querySelector("*:focus");if(t&&("INPUT"==t.tagName||"TEXTAREA"==t.tagName))return;const n=e.ctrlKey||e.metaKey;g.MAPPINGS.filter((t=>t.key===e.key)).forEach((t=>{(t.flat&&!e.shiftKey&&!n||!t.flat&&t.shift&&e.shiftKey||!t.flat&&n)&&(t.command(this.getCommands()),e.preventDefault())}))}componentDidMount(){document.addEventListener("keydown",this.keyboardHandler)}componentWillUnmount(){document.removeEventListener("keydown",this.keyboardHandler)}componentDidUpdate(e,t,n){p.App.activeController=this.state.iconController,e.bookController!==this.props.bookController&&(this.setState(this.initBookController(this.props.bookController)),this.props.bookController.persist()),t.tool!==this.state.tool&&(this.state.iconController.tool=this.state.tool)}render(){const{bookController:e}=this.props,{tool:t,iconController:n,iconControllers:o,iconPreviews:i}=this.state,r=this.getCommands();n.tool=t,n.showBackground=this.state.showBackground,n.showGrid=this.state.showGrid;const u=s.createElement(d.EditorMainToolbar,{iconController:n,showBackground:this.state.showBackground,showGrid:this.state.showGrid,commands:r,onNewBook:e=>this.newBook(e)}),p=s.createElement(h.EditorControls,{tool:t,bookController:e,iconController:n,iconControllers:o,iconPreviews:i,onAddIcon:e=>this.addIcon(e),onRemoveIcon:e=>this.removeIcon(e),onGoToIcon:e=>r.commandGoToIcon(e)});return s.createElement("div",{className:"drag-wrap",onDragOver:e=>this.handleDragOver(e),onDrop:e=>this.handleDrop(e)},s.createElement(l.ToolbarView,{sideClassNames:"main-tools",length:70,items:u},s.createElement(a.DockView,{side:"right",sideView:p},s.createElement(c.IconEditor,{controller:n,tool:t,commands:r}))))}}t.BookEditor=A},9800:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BookPreviews=void 0;const s=r(n(3804)),a=n(6333),c=n(7065);class l extends s.Component{handleSelected(e){this.props.onIconSelected&&this.props.onIconSelected(e)}onIconDelete(e){this.props.onIconDelete&&this.props.onIconDelete(e)}render(){const{controllers:e,previews:t,currentController:n}=this.props,o=t=>{const n=e.find((e=>e.id===t));return n?n.iconSize:a.makeSz(0,0)},i=t.sort(((e,t)=>-a.compareSize(o(e.id),o(t.id))));return s.createElement(s.Fragment,null,i.map((e=>s.createElement(c.PreviewPanel,{key:e.id,data:e.data,selected:e.id===n,size:o(e.id),onActivate:()=>this.handleSelected(e.id),onDelete:()=>this.onIconDelete(e.id)}))))}}t.BookPreviews=l},9304:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasView=void 0;const s=r(n(3804)),a=n(6333);class c extends s.Component{constructor(e){super(e),this.containerRef=s.createRef(),this.canvasRef=s.createRef(),this.canvasSize=a.makeSz(0,0),this._cursor=null,this.resizer=()=>this.updateCanvasSize(),this.mouseUpCatcher=e=>this.mouseUp(e),this.keyDownCatcher=e=>this.keyDown(e),this.keyUpCatcher=e=>this.keyUp(e)}canvasPoint(e,t){if(this.canvasRef.current){const n=a.Rectangle.fromDOMRect(this.canvasRef.current.getBoundingClientRect());return a.makePt(e-n.left,t-n.top)}return a.makePt(e,t)}updateCanvasSize(){if(this.containerRef.current){const e=a.Rectangle.fromDOMRect(this.containerRef.current.getBoundingClientRect());this.canvasRef.current?(this.canvasSize=a.makeSz(e.width,e.height),this.canvasRef.current.width=e.width,this.canvasRef.current.height=e.height):console.log("Diagram::resize: No canvasRef")}else console.log("Diagram::resize: No containerRef")}mouseDown(e){if(this.controller.pointingGestureStart){const t=this.canvasPoint(e.clientX,e.clientY),n=this.controller.pointingGestureStart({point:t,touch:!1});this.adoptCursor(n)}document.body.addEventListener("mouseup",this.mouseUpCatcher)}mouseUp(e){if(this.canvasRef.current&&this.controller.pointingGestureEnd){const t=this.canvasPoint(e.clientX,e.clientY),n=this.controller.pointingGestureEnd({point:t,touch:!1});this.adoptCursor(n)}document.body.removeEventListener("mouseup",this.mouseUpCatcher)}mouseMove(e){if(this.controller.pointingGestureMove){const t=this.canvasPoint(e.clientX,e.clientY),n=this.controller.pointingGestureMove({point:t,touch:!1});this.adoptCursor(n)}}adoptCursor(e){e&&e.cursor?this.cursor=e.cursor:this.cursor="default"}touchEnd(e){if(this.controller.pointingGestureEnd)if(e.touches.length>0){const t=e.touches[0];this.controller.pointingGestureEnd({point:this.canvasPoint(t.clientX,t.clientY),touch:!0})}else this.controller.pointingGestureEnd({point:a.makePt(0,0),touch:!0})}touchMove(e){if(this.controller.pointingGestureMove&&e.touches.length>0){const t=e.touches[0];this.controller.pointingGestureMove({point:this.canvasPoint(t.clientX,t.clientY),touch:!0})}}touchStart(e){if(this.controller.pointingGestureStart&&e.touches.length>0){e.preventDefault(),e.stopPropagation();const t=e.touches[0],n=this.canvasPoint(t.clientX,t.clientY);this.controller.pointingGestureStart({point:n,touch:!0})}}ignoreKey(){const e=document.querySelector("*:focus");return!!e&&("INPUT"===e.tagName||"TEXTAREA"===e.tagName)}keyDown(e){if(!this.ignoreKey()&&this.controller.keyDown){const t=this.controller.keyDown({key:e.key});t&&!0===t.preventDefault&&e.preventDefault()}}keyUp(e){if(!this.ignoreKey()&&this.controller.keyUp){const t=this.controller.keyUp({key:e.key});t&&!0===t.preventDefault&&e.preventDefault()}}componentDidMount(){if(this.resizer(),this.canvasRef.current){const e=this.canvasRef.current.getContext("2d");if(e){const t=()=>{this.controller.render(e,this.canvasSize),requestAnimationFrame(t)};requestAnimationFrame((()=>t()))}else console.log("No context")}else console.log("No canvasRef")}componentWillMount(){window.addEventListener("resize",this.resizer),document.addEventListener("keyup",this.keyUpCatcher),document.addEventListener("keydown",this.keyDownCatcher)}componentWillUnmount(){window.removeEventListener("resize",this.resizer),document.removeEventListener("keyup",this.keyUpCatcher),document.removeEventListener("keydown",this.keyDownCatcher)}componentDidUpdate(e,t,n){}render(){return s.createElement("div",{ref:this.containerRef,className:"canvas-view"},s.createElement("canvas",{ref:this.canvasRef,onMouseDown:e=>this.mouseDown(e),onMouseMove:e=>this.mouseMove(e),onTouchStart:e=>this.touchStart(e),onTouchMove:e=>this.touchMove(e),onTouchEnd:e=>this.touchEnd(e)}))}get controller(){return this.props.controller}get cursor(){return this._cursor}set cursor(e){e!==this._cursor&&(this.canvasRef.current&&(this.canvasRef.current.style.cursor=e||""),this._cursor=e)}}t.CanvasView=c},6111:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ColorReplacer=void 0;const s=r(n(3804)),a=n(2514),c=n(3826),l=n(5),d=n(1070),h=n(78),u=n(7782);class p extends s.Component{constructor(e){super(e),this.state={}}cancelColorPicker(){h.App.activeController.colorPicker(void 0),this.setState({colorToReplace:void 0,colorHovering:void 0}),this.props.onCancel&&this.props.onCancel()}colorFromColorPicker(e){this.setState({selectedColor:e}),this.props.onColorPreview&&(this.lastSelected&&e.equals(this.lastSelected)||this.props.onColorPreview(e)),this.lastSelected=e}confirmChange(){if(!this.state.selectedColor)throw new Error("No selected color");this.props.onColorSelected&&this.props.onColorSelected(this.state.selectedColor),this.setState({colorToReplace:void 0,colorHovering:void 0})}startColorPicker(){h.App.activeController.colorPicker(((e,t)=>{t?(this.lastHover&&!t.equals(this.lastHover)&&this.setState({colorHovering:t}),this.lastHover=t):e?(this.setState({colorToReplace:e,colorHovering:void 0}),this.props.onOldColorPicked&&this.props.onOldColorPicked(e)):this.setState({colorToReplace:void 0,colorHovering:void 0})})),this.setState({colorHovering:a.Color.black}),this.props.onStart&&this.props.onStart()}useOf(e){const t=h.App.activeController.editor.document.icon.data;let n=0;for(let o=0;o<t.length;o+=4)a.Color.fromInt8Array(t,o).equals(e)&&n++;return n}render(){const{colorToReplace:e,colorHovering:t}=this.state;return e?s.createElement("div",{className:"color-replacer"},s.createElement("div",{className:"swatch",style:{backgroundColor:e.cssRgba}}),s.createElement(d.Separator,null),s.createElement(l.ColorPicker,{color:e,colorPicked:e=>this.colorFromColorPicker(e)}),s.createElement(c.Button,{text:"Cancel",onClick:()=>this.cancelColorPicker()}),s.createElement(c.Button,{text:"Confirm",onClick:()=>this.confirmChange()})):t?s.createElement("div",{className:"color-replacer"},s.createElement("div",{className:"swatch",style:{backgroundColor:t.cssRgba}}),s.createElement(u.Label,{text:`${t.toString().toUpperCase()}: ${this.useOf(t)}`}),s.createElement(d.Separator,null),s.createElement(c.Button,{text:"Cancel",onClick:()=>this.cancelColorPicker()})):s.createElement("div",{className:"color-replacer"},s.createElement(c.Button,{icon:"eyedropper",text:"Pick Color to Replace",onClick:()=>this.startColorPicker()}))}}t.ColorReplacer=p},6477:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ColorUsageReport=void 0;const s=r(n(3804)),a=n(2514),c=n(3826),l=n(717),d=n(1070);class h extends s.Component{constructor(e){super(e),this.report=[],this.state={},this.buildReport()}buildReport(){const e=this.props.data,t=this.props.palette||{name:"",colors:[]},n={},o=[],i=[];let r=0;for(let t=0;t<e.length;t+=4){const o=a.Color.fromTupleInt8([e[t],e[t+1],e[t+2],e[t+3]]).hexRgba;if(o in n)n[o]++;else if(n[o]=1,r++>100){i.push({message:"Limit of color count reached: 100"});break}}for(let e in n){const i=a.Color.fromHex(e),r=n[e],s=t.colors.find((e=>e.hex===i.toString())),c=s?s.name:i.toString();o.push({color:i,count:r,name:c})}o.sort(((e,t)=>"count"in e&&"count"in t?t.count-e.count:0)),i.forEach((e=>o.push(e))),this.report=o}getTextReport(){return this.report.map((e=>{if("message"in e)return e.message;{const{color:t,count:n,name:o}=e;return`${t}, ${o}, ${n}`}})).join("\n")}copyReportToClipboard(){const e=this.getTextReport();console.log(JSON.stringify(this.report)),l.ClipboardService.systemCopyText(e).then((()=>console.log("Copied to clipboard.")))}swapShowAll(){const{showAll:e}=this.state;this.setState({showAll:!e})}render(){this.buildReport();const{showAll:e}=this.state,t=this.report.length,n=e?this.report:this.report.slice(0,10);return s.createElement("div",{className:"color-usage-report"},n.map((e=>"message"in e?s.createElement("div",{className:"entry message"},e.message):s.createElement("div",{className:"entry color"},s.createElement("div",{className:"swatch",style:{backgroundColor:e.color.cssRgba}}),s.createElement("div",null,s.createElement("span",{className:"lighter"},e.name)," ",e.count)))),(()=>{if(t>10)return s.createElement(s.Fragment,null,s.createElement(d.Separator,null),s.createElement(c.Button,{text:e?"Show Less":`Show all (${this.report.length})`,onClick:()=>this.swapShowAll()}))})(),s.createElement(d.Separator,null),s.createElement(c.Button,{icon:"copy",iconSize:50,onClick:()=>this.copyReportToClipboard()}))}}t.ColorUsageReport=h},5025:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerPanel=void 0;const s=r(n(3804)),a=n(3499);class c extends s.Component{render(){return s.createElement("div",{className:a.cn("container-panel",this.props.classNames)},s.createElement("div",{className:"marker n"}),s.createElement("div",{className:"marker s"}),s.createElement("div",{className:"marker e"}),s.createElement("div",{className:"marker w"}),s.createElement("div",{className:"content"},this.props.children))}}t.ContainerPanel=c},3074:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.EditorControls=void 0;const s=r(n(3804)),a=n(4408),c=n(3826),l=n(4530),d=n(9800),h=n(602),u=n(8801),p=n(1281),m=n(8533),g=n(9570),f=n(490),A=n(6394),b=n(1065),C=n(2947),v=n(4391),w=n(491),B=n(7987),k=n(6333),y=n(27);class x extends s.Component{download(e){const{iconController:t,bookController:n}=this.props;t.downloadAs(e,n.iconControllers.map((e=>e.editor.document.icon))).then((()=>console.log("Download triggered")))}toolComponent(){const e=this.props.tool;return e?e instanceof h.SelectionTool?s.createElement(u.EditorControlsSelection,{tool:e}):e instanceof p.EraserTool?s.createElement(m.EditorControlsEraser,null):e instanceof g.PencilTool?s.createElement(f.EditorControlsPencil,{tool:e}):e instanceof A.FloodFillTool?s.createElement(b.EditorControlsFlood,{tool:e}):e instanceof C.PaletteComposerTool?s.createElement(v.EditorControlsPalette,{tool:e}):e instanceof w.AdjustTool?s.createElement(B.EditorControlsDither,{tool:e}):void 0:s.createElement(s.Fragment,null)}render(){const{iconController:e,bookController:t,iconControllers:n,iconPreviews:o}=this.props,i=e.id;return s.createElement("div",{className:"editor-sidebar"},s.createElement(a.Expando,{title:"Preview",items:s.createElement(c.Button,{iconSize:50,icon:"plus"},[16,32,48,64,128,256].map((e=>s.createElement(l.MenuItem,{text:`${e}x${e}`,onActivate:()=>this.props.onAddIcon(k.makeSz(e,e))}))))},s.createElement(d.BookPreviews,{controllers:n,currentController:i,previews:o,onIconSelected:e=>this.props.onGoToIcon(e),onIconDelete:e=>this.props.onRemoveIcon(e)})),this.toolComponent(),s.createElement(c.Button,{text:"PNG",onClick:()=>this.download("png"),icon:"floppy",iconSize:50}),s.createElement(c.Button,{text:"ICO",onClick:()=>this.download("ico"),icon:"floppy",iconSize:50}),s.createElement(y.Version,null))}}t.EditorControls=x},7987:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.EditorControlsDither=void 0;const s=r(n(3804)),a=n(4408),c=n(2351),l=n(6347),d=n(3826);class h extends s.Component{constructor(e){super(e),this.state={adjust:{}}}commandApplyAdjustments(){this.props.tool.apply()}commandContrast(e){const t=this.state.adjust;this.setState({adjust:Object.assign(Object.assign({},t),{contrast:e})})}commandBrightness(e){const t=this.state.adjust;this.setState({adjust:Object.assign(Object.assign({},t),{brightness:e})})}commandDitheringKernel(e){const t=this.state.adjust;this.setState({adjust:Object.assign(Object.assign({},t),{kernel:e})})}commandDitheringSerpentine(e){const t=this.state.adjust;this.setState({adjust:Object.assign(Object.assign({},t),{serpentine:e})})}commandResetPalette(){const e=this.state.adjust;this.setState({adjust:Object.assign(Object.assign({},e),{palette:void 0})})}commandSetPalette(e){const t=this.state.adjust;this.setState({adjust:Object.assign(Object.assign({},t),{palette:e})})}componentDidUpdate(e,t,n){this.props.tool.updateAdjustments(this.state.adjust)}render(){const e=this.state.adjust;return s.createElement(s.Fragment,null,s.createElement(a.Expando,{title:"Adjust"},s.createElement("div",{className:"adjusters"},s.createElement(c.Range,{min:-200,max:200,value:e.brightness||0,onChange:e=>this.commandBrightness(e)}),s.createElement(c.Range,{min:-128,max:128,value:e.contrast||0,onChange:e=>this.commandContrast(e)}))),s.createElement(l.PaletteExpando,{title:e.palette?"Palette":"Apply Palette",onPaletteChanged:e=>this.commandSetPalette(e),onPaletteReset:()=>this.commandResetPalette()}),s.createElement(a.Expando,{title:"Dithering"},s.createElement(c.Range,{min:0,max:8,round:!0,value:e.kernel||0,onChange:e=>this.commandDitheringKernel(e)}),s.createElement(d.Button,{selected:!!e.serpentine,text:"Serpentine: "+(e.serpentine?"yes":"no"),onClick:()=>this.commandDitheringSerpentine(!e.serpentine)})),s.createElement(d.Button,{classNames:"cta",text:"Apply",onClick:()=>this.commandApplyAdjustments()}))}}t.EditorControlsDither=h},8533:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.EditorControlsEraser=void 0;const s=r(n(3804));class a extends s.Component{constructor(e){super(e)}render(){return s.createElement("div",null,"Eraser")}}t.EditorControlsEraser=a},1065:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.EditorControlsFlood=void 0;const s=r(n(3804)),a=n(5),c=n(4408);class l extends s.Component{constructor(e){super(e)}colorPicked(e){this.props.tool.color=e}render(){return s.createElement(c.Expando,{title:"Fill Color"},s.createElement(a.ColorPicker,{colorPicked:e=>this.colorPicked(e)}))}}t.EditorControlsFlood=l},4391:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.EditorControlsPalette=void 0;const s=r(n(3804)),a=n(4408),c=n(6111),l=n(6347),d=n(6477);class h extends s.Component{constructor(e){super(e),this.state={}}render(){const{tool:e}=this.props,t=e.controller.editor.document.icon;return s.createElement(s.Fragment,null,s.createElement(a.Expando,{title:"Color Replace"},s.createElement(c.ColorReplacer,{onStart:()=>e.colorReplaceStart(),onCancel:()=>e.colorReplaceCancel(),onOldColorPicked:t=>e.colorReplaceSelectOld(t),onColorPreview:t=>e.colorReplaceSelectNew(t),onColorSelected:t=>e.colorReplaceConfirm(t)})),s.createElement(l.PaletteExpando,{onPaletteChanged:e=>this.setState({composingPalette:e}),title:"Palette Library"}),s.createElement(a.Expando,{title:"Color Usage"},s.createElement(d.ColorUsageReport,{palette:this.state.composingPalette,data:t.data})))}}t.EditorControlsPalette=h},490:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.EditorControlsPencil=void 0;const s=r(n(3804)),a=n(5),c=n(4408);class l extends s.Component{constructor(e){super(e)}colorPicked(e){this.props.tool.color=e}render(){return s.createElement(c.Expando,{title:"Pencil Color"},s.createElement(a.ColorPicker,{colorPicked:e=>this.colorPicked(e)}))}}t.EditorControlsPencil=l},8801:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.EditorControlsSelection=void 0;const s=r(n(3804)),a=n(4408),c=n(7782),l=n(2012),d=n(3826);class h extends s.Component{constructor(e){super(e),this.state={selectionMove:"sprite"}}commandSelectAll(){this.props.tool.selectAll()}commandSelectionMove(e){this.props.tool.dragMode=e,this.setState({selectionMove:e})}commandClearSelection(){this.props.tool.clearSelection()}commandDeleteSelection(){this.props.tool.deleteSelection()}commandCrop(){this.props.tool.cropToSelection()}render(){const{tool:e}=this.props,{selectionMove:t}=this.state,n=e.controller.editor.document,o=n.selectionRegion?`${n.selectionRegion.width} x ${n.selectionRegion.height}`:"Nothing Selected";return s.createElement(a.Expando,{title:"Selection",items:s.createElement(c.Label,{text:o})},s.createElement(l.ItemGroup,{selectedIndex:"area"===t?1:0},s.createElement(d.Button,{text:"Move Sprite",onClick:()=>this.commandSelectionMove("sprite")}),s.createElement(d.Button,{text:"Move Selection",onClick:()=>this.commandSelectionMove("area")})),s.createElement(d.Button,{text:"Select All",iconSize:20,icon:"full-frame",onClick:()=>this.commandSelectAll()}),s.createElement(d.Button,{text:"Clear Selection",iconSize:20,icon:"corners",onClick:()=>this.commandClearSelection()}),s.createElement(d.Button,{text:"Delete Selection",iconSize:20,icon:"grid-crossed",onClick:()=>this.commandDeleteSelection()}),s.createElement(d.Button,{text:"Crop",iconSize:20,icon:"crop",onClick:()=>this.commandCrop()}))}}t.EditorControlsSelection=h},3921:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.EditorMainToolbar=void 0;const s=r(n(3804)),a=n(3826),c=n(4530),l=n(1070),d=n(6333);class h extends s.Component{constructor(e){super(e)}render(){const e=this.props.iconController,t=e=>()=>this.props.onNewBook(d.makeSz(e,e)),n=this.props.commands,o=0===e.editor.undoCount,i=0===e.editor.redoCount;return s.createElement(s.Fragment,null,s.createElement(a.Button,{classNames:"start-button",text:"faviconate",face:"always"},s.createElement(c.MenuItem,{text:"New Project: 16x16",onActivate:t(16)}),s.createElement(c.MenuItem,{text:"New Project: 32x32",onActivate:t(32)}),s.createElement(c.MenuItem,{text:"New Project: 64x64",onActivate:t(64)}),s.createElement(c.MenuItem,{text:"New Project: 128x128",onActivate:()=>t(128)}),s.createElement(c.MenuItem,{text:"New Project: 256x256",onActivate:()=>t(256)}),s.createElement(l.Separator,null),s.createElement(c.MenuItem,{text:"Import File",onActivate:()=>n.commandImportFileDialog()})),s.createElement(l.Separator,null),s.createElement(a.Button,{icon:"undo",iconSize:50,onClick:()=>n.commandUndo(),disabled:o}),s.createElement(a.Button,{icon:"redo",iconSize:50,onClick:()=>n.commandRedo(),disabled:i}),s.createElement(l.Separator,null),s.createElement(a.Button,{icon:"cut",iconSize:50,onClick:()=>n.commandCut()}),s.createElement(a.Button,{icon:"copy",iconSize:50,onClick:()=>n.commandCopy()}),s.createElement(a.Button,{icon:"paste",iconSize:50,onClick:()=>n.commandPaste()}),s.createElement(l.Separator,null),s.createElement(a.Button,{icon:"checker",iconSize:50,onClick:()=>n.commandSwapBg(),selected:this.props.showBackground}),s.createElement(a.Button,{icon:"grid",iconSize:50,onClick:()=>n.commandSwapGrid(),selected:this.props.showGrid}),s.createElement(l.Separator,null),s.createElement(a.Button,{icon:"eye",iconSize:50,onClick:()=>n.commandReview()}))}}t.EditorMainToolbar=h},4408:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Expando=void 0;const s=r(n(3804));class a extends s.Component{render(){return s.createElement("div",{className:"expando"},s.createElement("div",{className:"head"},s.createElement("div",{className:"label"},this.props.title),s.createElement("div",{className:"items"},this.props.items)),s.createElement("div",{className:"body"},s.createElement("div",{className:"children"},this.props.children)))}}t.Expando=a},2461:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.IconEditor=void 0;const s=r(n(3804)),a=n(9304),c=n(3826),l=n(602),d=n(1070),h=n(9570),u=n(1281),p=n(6394),m=n(2947),g=n(491),f=n(8529);class A extends s.Component{getItems(){const e=this.props.tool,t=this.props.commands;return s.createElement(s.Fragment,null,s.createElement(c.Button,{icon:"select",iconSize:50,onClick:()=>t.commandUseSelection(),selected:e instanceof l.SelectionTool}),s.createElement(d.Separator,null),s.createElement(c.Button,{icon:"pencil",iconSize:50,onClick:()=>t.commandUsePen(),selected:e instanceof h.PencilTool&&!(e instanceof u.EraserTool)}),s.createElement(c.Button,{icon:"bucket",iconSize:50,onClick:()=>t.commandUseFlood(),selected:e instanceof p.FloodFillTool}),s.createElement(c.Button,{icon:"eraser",iconSize:50,onClick:()=>t.commandUseEraser(),selected:e instanceof u.EraserTool}),s.createElement(d.Separator,null),s.createElement(c.Button,{icon:"palette",iconSize:50,onClick:()=>t.commandUsePaletteComposer(),selected:e instanceof m.PaletteComposerTool}),s.createElement(c.Button,{icon:"gradient",iconSize:50,onClick:()=>t.commandUseDither(),selected:e instanceof g.AdjustTool}))}render(){const e=this.getItems();return s.createElement(f.ToolbarView,{sideClassNames:"main-tools",length:70,classNames:"canvas-main",side:"left",itemsCenter:e},s.createElement(a.CanvasView,{controller:this.props.controller}))}}t.IconEditor=A},6347:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PaletteExpando=void 0;const s=r(n(3804)),a=n(3826),c=n(4408),l=n(5200),d=n(3223);class h extends s.Component{constructor(e){super(e),this.state={}}resetPalette(){this.setState({palette:void 0}),this.props.onPaletteReset&&this.props.onPaletteReset()}setPalette(e){this.setState({palette:e}),this.props.onPaletteChanged&&this.props.onPaletteChanged(e)}savePalette(){const e=this.state.palette;if(!e)throw new Error;e.unnamed&&(e.name=prompt("Name for the palette",e.name)||"Unnamed palette"),d.PaletteService.upsert(e).then((e=>this.setPalette(e))).catch((e=>console.log(`Not saved: ${e}`)))}render(){const e=this.state.palette;let t=s.createElement(s.Fragment,null);const n=s.createElement(a.Button,{icon:"return",iconSize:50,onClick:()=>this.resetPalette()});return e&&e.unsaved?t=s.createElement(s.Fragment,null,n,s.createElement(a.Button,{icon:"floppy",iconSize:50,onClick:()=>this.savePalette()})):e&&(t=s.createElement(s.Fragment,null,n)),s.createElement(c.Expando,{title:this.props.title||"Palette",items:t},s.createElement(l.PaletteManager,{palette:e||void 0,paletteChanged:e=>this.setPalette(e)}))}}t.PaletteExpando=h},5200:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PaletteManager=void 0;const s=r(n(3804)),a=n(2514),c=n(3826),l=n(6334),d=n(5),h=n(3223),u=n(78),p=n(717),m=n(1070);class g extends s.Component{constructor(e){super(e),this.state={}}setPalette(e){this.props.paletteChanged&&this.props.paletteChanged(e)}palettePreview(e){return s.createElement("div",{key:e.id,className:"palette-preview",onClick:()=>this.setPalette(e)},s.createElement("div",{className:"palette-label"},e.name),s.createElement("div",{className:"swatches"},e.colors.map((e=>this.swatch(e)))))}swatch(e){const{name:t,hex:n}=e,o={backgroundColor:a.Color.fromHex(n).hexRgb};return s.createElement("div",{className:"swatch",title:t,style:o})}startAddMode(){this.setState({addMode:!0})}addColor(e,t){const n=this.props.palette;n.native&&(n.native=!1,n.name="(Unsaved Palette)",n.unnamed=!0),n.unsaved=!0;const o=e.toString();this.setPalette(Object.assign(Object.assign({},n),{colors:[...n.colors,{name:t,hex:o}]})),this.dismissAddColor()}addSelectedColor(){if(!this.state.colorToAdd||!this.props.palette)throw new Error;const e=this.state.colorToAdd,t=this.state.colorToAddName||e.toString();this.addColor(e,t)}dismissAddColor(){this.setState({addMode:!1})}refreshPalette(){h.PaletteService.getAll().then((e=>{JSON.stringify(e)!=JSON.stringify(this.state.palettes)&&this.setState({palettes:e})}))}copyCode(e){p.ClipboardService.systemCopyText(JSON.stringify(e)).then((()=>alert("Copied")))}startCodeMode(e){this.setState({codeMode:!0,paletteCode:JSON.stringify(e)})}endCodeMode(e=!1){if(e)try{const e=JSON.parse(this.state.paletteCode||"");e.unsaved=!0,this.setPalette(e)}catch(e){return void alert("Can't format palette")}this.setState({codeMode:!1})}startEyedropper(){u.App.activeController.colorPicker((e=>{if(e){const t=prompt("Pick a name for the color",String(e))||String(e);this.setState({colorToAdd:e,colorToAddName:t})}}))}startEyedropperAdd(){u.App.activeController.colorPicker((e=>{if(e){const t=prompt("Pick a name for the color",String(e))||String(e);this.setState({colorToAdd:e,colorToAddName:t}),setTimeout((()=>this.addSelectedColor()))}}))}componentDidMount(){this.refreshPalette()}componentDidUpdate(e,t,n){this.refreshPalette()}render(){const e=this.props.palette,{codeMode:t}=this.state;if(this.state.addMode)return s.createElement("div",{className:"ui-palette"},s.createElement(d.ColorPicker,{color:this.state.colorToAdd,colorPicked:e=>this.setState({colorToAdd:e})}),s.createElement(c.Button,{icon:"eyedropper",onClick:()=>this.startEyedropper()}),s.createElement(c.Button,{text:"Cancel",onClick:()=>this.dismissAddColor()}),s.createElement(c.Button,{text:"Add Color",onClick:()=>this.addSelectedColor()}));if(e){let n=s.createElement(s.Fragment,null);return n=!0===t?s.createElement("div",null,s.createElement("textarea",{onChange:e=>this.setState({paletteCode:e.target.value})},JSON.stringify(e,null,2)),s.createElement(m.Separator,null),s.createElement(c.Button,{text:"Cancel",onClick:()=>this.endCodeMode()}),s.createElement(c.Button,{text:"OK",onClick:()=>this.endCodeMode(!0)})):s.createElement("div",{className:"swatches"},e.colors.map((e=>s.createElement(l.Clickable,{classNames:"pal-swatch"},this.swatch(e)))),s.createElement(c.Button,{icon:"plus",iconSize:20,onClick:()=>this.startAddMode()}),s.createElement(c.Button,{icon:"eyedropper",onClick:()=>this.startEyedropperAdd()}),s.createElement(c.Button,{icon:"code-file",onClick:()=>this.startCodeMode(e)})),s.createElement("div",{className:"ui-palette"},s.createElement("div",{className:"palette-label"},e.name),n)}{const e=this.state.palettes||[];return s.createElement("div",{className:"ui-palette"},e.concat(g.natives).map((e=>this.palettePreview(e))))}}}t.PaletteManager=g,g.natives=[{name:"Black & White",native:!0,colors:[{name:"Black",hex:a.Color.black.toString()},{name:"White",hex:a.Color.white.toString()}]}]},7065:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewPanel=void 0;const s=r(n(3804)),a=n(3826),c=n(4530);class l extends s.Component{constructor(){super(...arguments),this.ref=s.createRef()}onActivate(){this.props.onActivate&&this.props.onActivate()}onDelete(){this.props.onDelete&&this.props.onDelete()}render(){const e=this.props.size,t=Math.max(e.width,e.height),n=Math.ceil(t/64);return s.createElement("div",{ref:this.ref,onClick:()=>this.onActivate(),className:`preview-panel ${this.props.selected?"selected":""} level-${n}`},s.createElement("div",{className:"preview"},s.createElement("img",{src:this.props.data,alt:""})),s.createElement("div",{className:"label size-label"},e.width," x ",e.height),s.createElement(a.Button,{classNames:"ellipsis",icon:"ellipsis",iconSize:50},s.createElement(c.MenuItem,{text:"Delete",onActivate:()=>this.onDelete()})))}}t.PreviewPanel=l},6606:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ReviewStudio=void 0;const s=r(n(3804)),a=n(8529),c=n(7782),l=n(3826),d=n(2351),h=n(2633),u=n(5025),p=n(3499),m=n(6333),g=n(8435),f=n(5589),A=n(6477),b=n(1736),C=n(4408),v=n(3223),w=n(1070);class B extends s.Component{constructor(e){super(e),this.previewCanvas=s.createRef(),this.reviewCanvas=s.createRef(),this.state={sampleSize:3,startCorner:"nw",mode:"setup",palettes:[]},this.previewSize=m.scaleToContain(m.makeSz(200,200),m.makeSz(e.icon.width,e.icon.height)),this.reviewer=new g.IconReviewer(e.icon,m.makeSz(3,3),"nw")}dismiss(){this.props.onCloseRequested&&this.props.onCloseRequested()}setStartCorner(e){this.setState({startCorner:e});const{icon:t}=this.props,{sampleSize:n}=this.state;this.reviewer=new g.IconReviewer(t,m.makeSz(n,n),e),this.updateCanvasesGraphics()}setSampleSize(e){this.setState({sampleSize:e});const{icon:t}=this.props,{startCorner:n}=this.state;this.reviewer=new g.IconReviewer(t,m.makeSz(e,e),n),this.updateCanvasesGraphics()}updateCanvasesGraphics(){const e=new b.ReviewRenderer(this.reviewer,this.state.palette);this.drawPreviewCanvas(e),this.drawReviewCanvas(e)}drawPreviewCanvas(e){if(!this.previewCanvas.current)return;const t=this.previewCanvas.current.getContext("2d");if(!t)throw new f.GraphicsMemoryError;e.renderPreview(t,this.previewSize)}drawReviewCanvas(e){if(!this.reviewCanvas.current)return;const t=this.reviewCanvas.current.getContext("2d");if(!t)throw new f.GraphicsMemoryError;e.renderReview(t,this.reviewSize)}navigate(e){this.reviewer.move(e),this.updateCanvasesGraphics(),this.forceUpdate()}loadPalettes(){v.PaletteService.getAll().then((e=>this.setState({palettes:e})))}selectPalette(e){this.setState({palette:e}),setTimeout((()=>this.updateCanvasesGraphics()))}resetPalette(){this.setState({palette:void 0}),setTimeout((()=>this.updateCanvasesGraphics()))}componentDidMount(){this.loadPalettes(),this.updateCanvasesGraphics(),window.addEventListener("keydown",(e=>{"ArrowLeft"===e.key?(this.navigate("w"),e.stopPropagation()):"ArrowRight"==e.key?(this.navigate("e"),e.stopPropagation()):"ArrowUp"==e.key?(this.navigate("n"),e.stopPropagation()):"ArrowDown"==e.key?(this.navigate("s"),e.stopPropagation()):"Escape"==e.key&&(this.dismiss(),e.stopPropagation())}),!0)}componentDidUpdate(e,t,n){if("setup"===t.mode&&"review"===this.state.mode&&this.reviewCanvas.current){const e=m.Rectangle.fromDOMRect(this.reviewCanvas.current.parentElement.getBoundingClientRect());this.reviewSize=e.size,this.reviewCanvas.current.width=e.width,this.reviewCanvas.current.height=e.height,this.updateCanvasesGraphics()}}render(){const{mode:e,palette:t,palettes:n}=this.state,o=s.createElement(s.Fragment,null,s.createElement(c.Label,{text:"Review"})),i=s.createElement(s.Fragment,null,s.createElement(l.Button,{icon:"dismiss",iconSize:20,onClick:()=>this.dismiss()})),r=s.createElement("div",{className:"review-studio-sidebar"},s.createElement(u.ContainerPanel,{classNames:"preview"},s.createElement("canvas",{width:this.previewSize.width,height:this.previewSize.height,ref:this.previewCanvas})),s.createElement(C.Expando,{title:"Navigate"},s.createElement("div",{className:"key-navigation"},s.createElement("div",{className:"row"},s.createElement("div",{className:"nothing"}),s.createElement(l.Button,{icon:"circle-arrow-up",iconSize:50,onClick:()=>this.navigate("n")}),s.createElement("div",{className:"nothing"})),s.createElement("div",{className:"row"},s.createElement(l.Button,{icon:"circle-arrow-left",iconSize:50,onClick:()=>this.navigate("w")}),s.createElement("div",{className:"nothing"}),s.createElement(l.Button,{icon:"circle-arrow-right",iconSize:50,onClick:()=>this.navigate("e")})),s.createElement("div",{className:"row"},s.createElement("div",{className:"nothing"}),s.createElement(l.Button,{icon:"circle-arrow-down",iconSize:50,onClick:()=>this.navigate("s")}),s.createElement("div",{className:"nothing"})))),s.createElement(C.Expando,{title:"Colors"},(()=>t?s.createElement(l.Button,{icon:"dismiss",text:t.name,iconSize:20,onClick:()=>this.resetPalette()}):s.createElement("div",{className:"palettes"},n.map((e=>s.createElement(l.Button,{text:e.name,onClick:()=>this.selectPalette(e)})))))(),s.createElement(w.Separator,null),s.createElement(A.ColorUsageReport,{data:this.reviewer.sampleSprite,palette:t}))),m=s.createElement(s.Fragment,null,s.createElement("div",{className:"row sample-size"},s.createElement("div",{className:"caption"},"Sample Size"),s.createElement(d.Range,{value:this.state.sampleSize,min:1,max:10,round:!0,onChange:e=>this.setSampleSize(e)}),s.createElement("div",{className:"value"},this.state.sampleSize," X ",this.state.sampleSize)),s.createElement("div",{className:"row corner"},s.createElement("div",{className:"caption"},"Corner to Start"),s.createElement("div",{className:"corner-grid"},s.createElement("div",{className:"row"},s.createElement("div",{className:p.cn("corner nw",{selected:"nw"===this.state.startCorner}),onClick:()=>this.setStartCorner("nw")}),s.createElement("div",{className:p.cn("corner ne",{selected:"ne"===this.state.startCorner}),onClick:()=>this.setStartCorner("ne")})),s.createElement("div",{className:"row"},s.createElement("div",{className:p.cn("corner sw",{selected:"sw"===this.state.startCorner}),onClick:()=>this.setStartCorner("sw")}),s.createElement("div",{className:p.cn("corner se",{selected:"se"===this.state.startCorner}),onClick:()=>this.setStartCorner("se")})))),s.createElement("div",{className:"row cta"},s.createElement(l.Button,{classNames:"cta",text:"Start",onClick:()=>this.setState({mode:"review"})}))),g=s.createElement(s.Fragment,null,s.createElement("canvas",{ref:this.reviewCanvas})),f="setup"===e?m:g;return s.createElement("div",{className:"modal review-studio"},s.createElement(a.ToolbarView,{items:o,itemsFar:i},s.createElement(h.DockView,{side:"right",sideView:r},s.createElement(u.ContainerPanel,{classNames:"main-panel"},f))))}}t.ReviewStudio=B},8270:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClickDismiss=void 0;class n{constructor(e){this.stack=[],this.preventNext=!1,window.addEventListener(e,(e=>{this.preventNext?this.preventNext=!1:this.stack.length>0&&(e.stopImmediatePropagation(),this.popAndExecute())}))}isIdRegistered(e){return this.stack.filter((t=>t.id===e)).length>0}register(e){const t=n.idReminder++;return this.stack.push({id:t,call:e}),t}popAndExecute(){const e=this.stack.pop();e&&(e.call(),this.unregister(e.id))}preventNextEvent(){this.preventNext=!0}unregister(e){this.stack=this.stack.filter((t=>t.id!=e)),this.preventNext=!1}}t.ClickDismiss=n,n.mouseup=new n("mouseup"),n.idReminder=1},2514:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Color=t.InvalidColorFormatError=void 0;class n extends Error{}t.InvalidColorFormatError=n;class o{constructor(e,t,n,o=1){this.r=e,this.g=t,this.b=n,this.a=o,this.r=Math.max(Math.min(Math.round(e),255),0),this.g=Math.max(Math.min(Math.round(t),255),0),this.b=Math.max(Math.min(Math.round(n),255),0),this.a=Math.max(Math.min(o,1),0)}static get black(){return new o(0,0,0)}static hexParsable(e){return null!==e.match(/#?[0-9a-fA-F]{3}([0-9a-fA-F]{3})?/)}static fromHex(e){if(!o.hexParsable(e))throw new n(e);let t=function(e){return parseInt(e,16)},i=0,r=0,s=0,a=1;return 3==(e=e.replace("#","")).length?(i=t(e[0]+e[0]),r=t(e[1]+e[1]),s=t(e[2]+e[2])):(i=t(e[0]+e[1]),r=t(e[2]+e[3]),s=t(e[4]+e[5]),8==e.length&&(a=t(e[6]+e[7]))),new o(i,r,s,a)}static fromHsv(e,t,n){let i,r,s,a,c,l,d,h;if(e=Math.max(0,Math.min(360,e)),t=Math.max(0,Math.min(100,t)),n=Math.max(0,Math.min(100,n)),0==t)return i=r=s=n,new o(Math.round(255*i),Math.round(255*r),Math.round(255*s));switch(e/=60,a=Math.floor(e),c=e-a,l=n*(1-t),d=n*(1-t*c),h=n*(1-t*(1-c)),a){case 0:i=n,r=h,s=l;break;case 1:i=d,r=n,s=l;break;case 2:i=l,r=n,s=h;break;case 3:i=l,r=d,s=n;break;case 4:i=h,r=l,s=n;break;default:i=n,r=l,s=d}return new o(Math.round(255*i),Math.round(255*r),Math.round(255*s))}static fromTupleInt8(e){return new o(e[0],e[1],e[2],e[3]/255)}static fromInt8Array(e,t=0){return this.fromTupleInt8([e[t],e[t+1],e[t+2],e[t+3]])}static get transparent(){return new o(0,0,0,0)}static get white(){return new o(255,255,255)}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}copyToUint8(e,t){const[n,o,i,r]=this.tupleInt8;e[t]=n,e[t+1]=o,e[t+2]=i,e[t+3]=r}toString(){return 1!=this.a?this.hexRgba:this.hexRgb}withAlpha(e){if(e<0||e>100)throw new Error(`Invalid alpha: ${e}`);return new o(this.r,this.g,this.b,e)}get cssRgb(){return`rgb(${this.r}, ${this.g}, ${this.b})`}get cssRgba(){return`rgba(${this.r}, ${this.g}, ${this.b}, ${this.a})`}get hexRgb(){const e=e=>{const t=e.toString(16);return 1==t.length?`0${t}`:t};return`#${e(this.r)}${e(this.g)}${e(this.b)}`}get hexRgba(){const e=e=>{const t=e.toString(16);return 1==t.length?`0${t}`:t};return`#${e(this.r)}${e(this.g)}${e(this.b)}${e(Math.round(255*this.a))}`}get hsv(){let e,t,n,o=this.r/255,i=this.g/255,r=this.b/255,s=0,a=0,c=Math.max(o,i,r),l=c-Math.min(o,i,r),d=e=>(c-e)/6/l+.5;return 0==l?s=a=0:(a=l/c,e=d(o),t=d(i),n=d(r),o===c?s=n-t:i===c?s=1/3+e-n:r===c&&(s=2/3+t-e)),s<0?s+=1:s>1&&(s-=1),[Math.round(360*s),a,c]}get isTransparent(){return 0===this.r&&0===this.g&&0===this.b&&0===this.a}get relativeLuminance(){return this.r/255*.2126+this.g/255*.7152+this.b/255*.0722}get tupleInt8(){return[this.r,this.g,this.b,Math.round(255*this.a)]}}t.Color=o},3022:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FocusStackHandler=void 0;class n{constructor(e){this.stack=[],window.addEventListener("keydown",(t=>{t.key===e&&this.stack.length>0&&(t.stopImmediatePropagation(),this.popAndExecute())}))}isIdRegistered(e){return this.stack.filter((t=>t.id===e)).length>0}register(e){const t=n.idReminder++;return this.stack.push({id:t,call:e}),t}popAndExecute(){const e=this.stack.pop();e&&(e.call(),this.unregister(e.id))}unregister(e){this.stack=this.stack.filter((t=>t.id!=e))}}t.FocusStackHandler=n,n.idReminder=1,n.dismiss=new n("Escape"),n.commit=new n("Enter")},4826:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KeyCaptureStackHandler=void 0;class n{constructor(){this.stack=[],window.addEventListener("keydown",(e=>{this.stack.length>0&&this.execute(e)}),!0)}isIdRegistered(e){return this.stack.filter((t=>t.id===e)).length>0}register(e){const t=n.idReminder++;return this.stack.push({id:t,call:e}),t}execute(e){this.stack.length>0&&this.stack[this.stack.length-1].call(e)}unregister(e){this.stack=this.stack.filter((t=>t.id!=e))}}t.KeyCaptureStackHandler=n,n.idReminder=1,n.instance=new n},6333:(e,t)=>{function n(e,t){return{x:e,y:t}}function o(e,t){return{width:e,height:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.Rectangle=t.scaleToContain=t.distance=t.midPoint=t.slope=t.compareSize=t.roundSz=t.roundPt=t.makeSz=t.makePt=void 0,t.makePt=n,t.makeSz=o,t.roundPt=function(e){return n(Math.round(e.x),Math.round(e.y))},t.roundSz=function(e){return o(Math.round(e.width),Math.round(e.height))},t.compareSize=function(e,t){return e.width*e.height-t.width*t.height},t.slope=function(e,t){return(t.y-e.y)/(t.x-e.x)},t.midPoint=function(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}},t.distance=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.scaleToContain=function(e,t){const n=o(e.width,e.width*t.height/t.width),i=o(e.height*t.width/t.height,e.height);return n.width<=e.width&&n.height<=e.height?n:i};class i{constructor(e,t,n,o){this.left=e,this.top=t,this.width=n,this.height=o}static get empty(){return new i(0,0,0,0)}static fromRect(e){return new i(e.left,e.top,e.width,e.height)}static fromDOMRect(e){return new i(e.left,e.top,e.width,e.height)}static fromLTRB(e,t,n,o){return new i(e,t,n-e,o-t)}static fromPoint(e){return new i(e.x,e.y,0,0)}static fromSize(e){return new i(0,0,e.width,e.height)}static unionOf(...e){if(0==e.length)return null;let t=e[0];for(let n=1;n<e.length;n++)t=t.union(e[n]);return t}centerAt(e){return this.withLocation(n(e.x-this.width/2,e.y-this.height/2))}clone(){return new i(this.left,this.top,this.width,this.height)}contains(e){return e.x>=this.left&&e.x<this.right&&e.y>=this.top&&e.y<this.bottom}deflate(e,t){return i.fromLTRB(this.left+e,this.top+t,this.right-e,this.bottom-t)}equals(e){return e.left===this.left&&e.top===this.top&&e.width===this.width&&e.height===this.height}getCardinalPoint(e){switch(e){case"n":return this.north;case"ne":return this.northEast;case"e":return this.east;case"se":return this.southEast;case"s":return this.south;case"sw":return this.southWest;case"w":return this.west;case"nw":return this.northWest}}inflate(e,t){return i.fromLTRB(this.left-e,this.top-t,this.right+e,this.bottom+t)}intersects(e){let t=this.left,n=this.top,o=this.width,i=this.height,r=e.left,s=e.top,a=e.width,c=e.height;return r<t+o&&t<r+a&&s<n+i&&n<s+c}offset(e,t){return this.withLocation(n(this.left+e,this.top+t))}round(){return new i(Math.round(this.left),Math.round(this.top),Math.round(this.width),Math.round(this.height))}toString(){return`(Rect: ${this.left}, ${this.top}, ${this.width}, ${this.height})`}union(e){const t=[this.left,this.right,e.left,e.right],n=[this.top,this.bottom,e.top,e.bottom];return i.fromLTRB(Math.min(...t),Math.min(...n),Math.max(...t),Math.max(...n))}withBottom(e){return new i(this.left,e-this.height,this.width,this.height)}withHeight(e){return new i(this.left,this.top,this.width,e)}withLeft(e){return new i(e,this.top,this.width,this.height)}withLocation(e){return new i(e.x,e.y,this.width,this.height)}withRight(e){return new i(e-this.width,this.top,this.width,this.height)}withSize(e){return new i(this.left,this.top,e.width,e.height)}withTop(e){return new i(this.left,e,this.width,this.height)}withWidth(e){return new i(this.left,this.top,e,this.height)}get center(){return{x:this.left+this.width/2,y:this.top+this.height/2}}get isEmpty(){return 0==this.width&&0==this.height&&0==this.left&&0==this.top}get right(){return this.left+this.width}get bottom(){return this.top+this.height}get location(){return n(this.left,this.top)}get tuple(){return[this.left,this.top,this.width,this.height]}get tupleLTRB(){return[this.left,this.top,this.right,this.bottom]}get northEast(){return{x:this.right,y:this.top}}get southEast(){return{x:this.right,y:this.bottom}}get southWest(){return{x:this.left,y:this.bottom}}get northWest(){return{x:this.left,y:this.top}}get east(){return n(this.right,this.center.y)}get eastSegment(){return[this.northEast,this.southEast]}get north(){return n(this.center.x,this.top)}get northSegment(){return[this.northEast,this.northWest]}get south(){return n(this.center.x,this.bottom)}get southSegment(){return[this.southEast,this.southWest]}get west(){return n(this.left,this.center.y)}get westSegment(){return[this.southWest,this.northWest]}get size(){return{width:this.width,height:this.height}}}t.Rectangle=i},5120:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.darkModeOn=void 0,t.darkModeOn=function(){if(window.matchMedia)return window.matchMedia("(prefers-color-scheme: dark)").matches}},9977:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Uuid=t.uuid=void 0,t.uuid=function(){return n.random().stringValue};class n{constructor(e){if(this.value=e,16!=e.length)throw new Error;this.stringValue="";for(let t=0;t<e.length;t++){const n=e[t].toString(16);this.stringValue+=n.length<2?"0"+n:n,t%2==1&&t>1&&t<10&&(this.stringValue+="-")}}static random(){return window.crypto?new n(window.crypto.getRandomValues(new Uint8ClampedArray(16))):new n(new Uint8ClampedArray(16).map((e=>Math.random())))}toString(){return this.stringValue}}t.Uuid=n},5589:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GraphicsMemoryError=void 0;class n extends Error{}t.GraphicsMemoryError=n},3499:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.cn=void 0,t.cn=function(...e){const t=[];for(const n of e)if("object"==typeof n)for(const e in n)n[e]&&t.push(e);else n&&t.push(String(n));return t.join(" ")}},3826:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;const s=r(n(3804)),a=n(7782),c=n(1022),l=n(6570),d=n(3022),h=n(8270),u=n(6333);class p extends s.Component{constructor(e){super(e),this.escapeKeyDismissId=0,this.clickDismissId=0,this.buttonRef=s.createRef(),this.state={},this.activate=this.activate.bind(this),this.showDropDown=this.showDropDown.bind(this),this.hideDropDown=this.hideDropDown.bind(this),this.keyDownHide=this.keyDownHide.bind(this),this.keyDownShow=this.keyDownShow.bind(this),this.keyDownActivate=this.keyDownActivate.bind(this)}activate(){!0!==this.props.disabled&&this.props.onClick&&this.props.onClick()}keyPass(e,t){"Enter"!==e.key&&" "!==e.key||this.props.disabled||(e.stopPropagation(),e.preventDefault(),t())}keyDownHide(e){this.keyPass(e,(()=>this.hideDropDown()))}keyDownShow(e){this.props.disabled||this.keyPass(e,(()=>this.showDropDown()))}keyDownActivate(e){this.keyPass(e,(()=>this.activate()))}hideDropDown(){this.setState({dropDownVisible:!1}),d.FocusStackHandler.dismiss.unregister(this.escapeKeyDismissId),h.ClickDismiss.mouseup.unregister(this.clickDismissId)}showDropDown(){this.setState({dropDownVisible:!0}),this.escapeKeyDismissId=d.FocusStackHandler.dismiss.register((()=>{this.hideDropDown()})),this.clickDismissId=h.ClickDismiss.mouseup.register((()=>this.hideDropDown()))}render(){var e;const t=u.Rectangle.fromDOMRect((null===(e=this.buttonRef.current)||void 0===e?void 0:e.getBoundingClientRect())||new DOMRect),n=()=>this.props.useChevron?s.createElement(c.Icon,{name:"chevron-down",size:8}):void 0,o=()=>s.createElement(a.Label,Object.assign({},this.props)),i=()=>s.createElement(l.MenuOverlay,{top:t.top+t.height,left:t.left,refRect:t,onDismissSignal:this.hideDropDown},this.props.children),r=[`face-${this.props.face||"hover"}`,this.props.classNames,this.props.disabled?"disabled":null,this.props.selected?"selected":null].filter((e=>!!e)).join(" "),d=this.props.disabled?{}:{tabIndex:0};return this.props.children?this.props.split?this.state.dropDownVisible?s.createElement("div",{className:"ui-button-wrap split"},s.createElement("div",Object.assign({},d,{ref:this.buttonRef,className:`ui-clickable ui-button is-open ${r}`,onClick:this.activate}),o()),s.createElement("div",Object.assign({},d,{className:"ui-clickable ui-button split-part",onClick:this.showDropDown,onKeyDown:this.keyDownShow}),n(),i())):s.createElement("div",{className:`ui-button-wrap split ${r}`},s.createElement("div",Object.assign({},d,{ref:this.buttonRef,className:"ui-clickable ui-button",onKeyDown:this.keyDownActivate,onClick:this.activate}),o()),s.createElement("div",Object.assign({},d,{className:"ui-clickable ui-button split-part",onClick:this.showDropDown,onKeyDown:this.keyDownShow}),n())):this.state.dropDownVisible?s.createElement("div",{className:"ui-button-wrap"},s.createElement("div",Object.assign({},d,{ref:this.buttonRef,className:`ui-clickable ui-button is-open ${r}`,onKeyDown:this.keyDownHide,onClick:this.showDropDown}),o(),n()),i()):s.createElement("div",{className:"ui-button-wrap"},s.createElement("div",Object.assign({},d,{ref:this.buttonRef,className:`ui-clickable ui-button ${r}`,onClick:this.showDropDown,onKeyDown:this.keyDownShow}),o(),n())):s.createElement("div",Object.assign({},d,{ref:this.buttonRef,className:`ui-clickable ui-button ${r}`,onClick:this.activate,onKeyDown:this.keyDownActivate}),o())}}t.Button=p},6334:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Clickable=void 0;const s=r(n(3804)),a=n(3499);class c extends s.Component{constructor(e){super(e),this.state={},this.mouseEnter=this.mouseEnter.bind(this),this.mouseLeave=this.mouseLeave.bind(this)}mouseEnter(){!0!==this.props.avoidHover&&this.setState({isHovered:!0})}mouseLeave(){!0!==this.props.avoidHover&&this.setState({isHovered:!1})}render(){const e=a.cn("ui-clickable",{selected:this.props.isSelected||this.state.isHovered},this.props.classNames);return s.createElement("div",{className:e,onMouseEnter:this.mouseEnter,onMouseLeave:this.mouseLeave,onClick:this.props.onClick},this.props.children)}}t.Clickable=c},5:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPicker=void 0;const s=r(n(3804)),a=n(2514),c=n(5589),l=n(2351),d=n(6333),h=[0,0,0,0],u=[127,127,127,127],p=["hex","r","g","b","a"];function m(e,t){const n=new ImageData(e,t),o=document.createElement("canvas");o.width=t,o.height=e.length/4/t;const i=o.getContext("2d");if(!i)throw new c.GraphicsMemoryError;return i.putImageData(n,0,0),o.toDataURL()}class g extends s.Component{constructor(e){super(e),this.focus=null,this.txtHex=s.createRef(),this.txtR=s.createRef(),this.txtG=s.createRef(),this.txtB=s.createRef(),this.txtA=s.createRef();const t=e.color||a.Color.black;this.state={currentColor:t,selectedHue:t.hsv[0]}}getInput(e){let t;switch(e){case"a":t=this.txtA;break;case"r":t=this.txtR;break;case"g":t=this.txtG;break;case"b":t=this.txtB;break;case"hex":t=this.txtHex}if(t.current)return t.current;throw new Error(`No input element for: ${e}`)}getInputValueFor(e){const t=this.state.currentColor;switch(e){case"a":return Math.round(100*t.a).toString();case"r":return t.r.toString();case"g":return t.g.toString();case"b":return t.b.toString();case"hex":return t.hexRgb}}updateColor(e,t){this.setState({currentColor:e,selectedHue:"number"==typeof t?t:e.hsv[0]}),this.props.colorPicked&&this.props.colorPicked(e)}updateHue(e){const t=this.state.currentColor,n=t.hsv;this.updateColor(a.Color.fromHsv(e,n[1],n[2]).withAlpha(t.a),e)}updateAlpha(e){const t=this.state.currentColor;this.updateColor(t.withAlpha(e/100))}updateSatLight(e,t){const n=this.state.currentColor,o=this.state.selectedHue,i=(e||0)/100,r=(t||0)/100;this.updateColor(a.Color.fromHsv(o>=0?o:0,i,r).withAlpha(n.a),o)}handleChange(e){const t=this.getInput(e);if("hex"==e){const e=t.value;a.Color.hexParsable(e)&&this.updateColor(a.Color.fromHex(e))}else{const e=parseInt(this.getInput("a").value)||0,t=parseInt(this.getInput("b").value)||0,n=parseInt(this.getInput("g").value)||0,o=parseInt(this.getInput("r").value)||0,i=new a.Color(o,n,t,e);this.updateColor(i)}}componentDidMount(){p.forEach((e=>{const t=this.getInput(e);t.addEventListener("input",(()=>this.handleChange(e))),t.addEventListener("focus",(()=>{this.focus=e})),t.addEventListener("blur",(()=>{this.focus=null}))}))}componentDidUpdate(e,t,n){const o=e.color,i=this.props.color;(i&&!o||i&&o&&!i.equals(o))&&this.setState({selectedHue:i.hsv[0],currentColor:i})}syncInputValues(){for(const e of p)this.focus!==e&&(this.getInput(e).value=this.getInputValueFor(e))}render(){this.txtHex.current&&this.syncInputValues();const e=this.state.currentColor,t=e.hsv,n=this.state.selectedHue>=0?this.state.selectedHue:t[0],o=100*t[1],i=100*t[2],r=100*e.a,c=function(e=1,t=10){const n=new Uint8ClampedArray(t*t*4);let o=0;for(let i=t;i>=0;i--)for(let r=0;r<t;r++){const s=a.Color.fromHsv(e,r/t,i/t);let[c,l,d,h]=s.tupleInt8;n[o++]=c,n[o++]=l,n[o++]=d,n[o++]=h}return m(n,t)}(n,10),h={background:a.Color.fromHsv(n,1,1).hexRgb},u={backgroundImage:`url(${g.hueBar})`,backgroundSize:"contain"},p={backgroundImage:`url(${c})`},f={backgroundImage:`url(${g.bgPattern})`},A={backgroundImage:`url(${g.bgPattern})`},b={backgroundColor:e.cssRgba};return s.createElement("div",{className:"ui-color-picker"},s.createElement("div",{className:"layer swatch",style:A},s.createElement("div",{className:"swatch",style:b})),s.createElement("div",{className:"layer slider-2d"},s.createElement(l.Range,{min:d.makeSz(0,0),max:d.makeSz(100,100),value:d.makeSz(o,100-i),direction:"2d",containerStyle:p,onChange:(e,t)=>this.updateSatLight(e,100-(t||0))})),s.createElement("div",{className:"layer slider-1d"},s.createElement(l.Range,{min:0,max:359,value:n,handleStyle:h,containerStyle:u,onChange:e=>this.updateHue(e)})),s.createElement("div",{className:"layer slider-alpha"},s.createElement(l.Range,{min:0,max:100,value:r,containerStyle:f,onChange:e=>this.updateAlpha(e)})),s.createElement("div",{className:"layer inputs"},s.createElement("div",{className:"item hex"},s.createElement("input",{type:"text",ref:this.txtHex}),s.createElement("div",{className:"label"},"Hex")),s.createElement("div",{className:"item r"},s.createElement("input",{type:"text",ref:this.txtR}),s.createElement("div",{className:"label"},"R")),s.createElement("div",{className:"item g"},s.createElement("input",{type:"text",ref:this.txtG}),s.createElement("div",{className:"label"},"G")),s.createElement("div",{className:"item g"},s.createElement("input",{type:"text",ref:this.txtB}),s.createElement("div",{className:"label"},"B")),s.createElement("div",{className:"item b"},s.createElement("input",{type:"text",ref:this.txtA}),s.createElement("div",{className:"label"},"A"))))}}t.ColorPicker=g,g.hueBar=function(){const e=new Array(360).fill(0).map(((e,t)=>a.Color.fromHsv(t,1,1).tupleInt8)),t=[].concat(...e);return m(new Uint8ClampedArray(t),360)}(),g.bgPattern=function(){const e=new Array(5).fill(h),t=new Array(5).fill(u),n=[].concat(...e,...t),o=[].concat(...t,...e),i=new Array(5).fill(n),r=new Array(5).fill(o);return m(new Uint8ClampedArray([].concat(...i,...r)),10)}()},1022:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=void 0;const s=r(n(3804));t.Icon=e=>s.createElement("div",{className:`ui-icon size-${e.size||16} icon-${e.name} ${e.classNames||""}`})},2012:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ItemGroup=void 0;const s=r(n(3804));class a extends s.Component{constructor(e){super(e),this.state={}}render(){return s.createElement("div",{className:"ui-item-group"},s.Children.map(this.props.children,((e,t)=>s.cloneElement(e,{selected:t===this.props.selectedIndex}))))}}t.ItemGroup=a},7782:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Label=void 0;const s=r(n(3804)),a=n(1022),c=n(3499);t.Label=e=>{const t=c.cn("ui-label",e.classNames);if(e.icon&&!e.text)return s.createElement("div",{className:t},s.createElement(a.Icon,{name:e.icon,size:e.iconSize}));if(e.icon||e.description){if(!e.icon&&e.description)return s.createElement("div",{className:t},s.createElement("div",{className:"text"},e.text),s.createElement("div",{className:"desc"},e.description));if(e.icon)return e.description?s.createElement("div",{className:c.cn(t,"with-icon")},s.createElement(a.Icon,{name:e.icon,size:e.iconSize}),s.createElement("div",{className:"text-side"},s.createElement("div",{className:"text"},e.text),s.createElement("div",{className:"desc"},e.description))):s.createElement("div",{className:c.cn(t,"with-icon")},s.createElement(a.Icon,{name:e.icon,size:e.iconSize}),s.createElement("div",{className:"text"},e.text));throw"Undesired configuration"}return s.createElement("div",{className:t},e.text)}},4530:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItem=void 0;const s=r(n(3804)),a=n(7782),c=n(1022),l=n(6570),d=n(8270),h=n(6333);class u extends s.Component{constructor(e){super(e),this.ref=s.createRef(),this.showOverlay=this.showOverlay.bind(this),this.hideOverlay=this.hideOverlay.bind(this),this.mouseActivate=this.mouseActivate.bind(this),this.sendDismissSignal=this.sendDismissSignal.bind(this),this.sendDismissSingleSignal=this.sendDismissSingleSignal.bind(this),this.sendSelectSignal=this.sendSelectSignal.bind(this)}mouseActivate(e){e.stopPropagation(),this.activate()}activate(){this.props.onActivate&&this.props.onActivate(),this.sendDismissSignal()}hideOverlay(e){d.ClickDismiss.mouseup.preventNextEvent(),e.stopPropagation(),this.props.onClose&&this.props.onClose()}showOverlay(e){d.ClickDismiss.mouseup.preventNextEvent(),e.stopPropagation(),this.props.onOpen&&this.ref&&this.ref.current&&this.props.onOpen()}render(){var e;const t=this.props.isSelected?"is-selected":"",n=Object.assign({icon:"empty"},this.props);if(!0===this.props.isActivated&&0===s.Children.count(this.props.children)&&setTimeout((()=>this.activate())),this.props.children){const o=h.Rectangle.fromDOMRect((null===(e=this.ref.current)||void 0===e?void 0:e.getBoundingClientRect())||new DOMRect);return this.props.isOpen?s.createElement("div",{ref:this.ref,className:"ui-menuitem is-selected is-open",onMouseDown:this.hideOverlay},s.createElement(a.Label,Object.assign({},n)),s.createElement(c.Icon,{name:"chevron-right",size:8}),s.createElement(l.MenuOverlay,{left:o.right,top:o.top,refRect:o,parentMenuItem:this,onDismissSingleSignal:this.sendDismissSingleSignal,onDismissSignal:this.sendDismissSignal},this.props.children)):s.createElement("div",{ref:this.ref,className:`ui-menuitem ${t}`,onMouseEnter:this.sendSelectSignal,onMouseDown:this.showOverlay},s.createElement(a.Label,Object.assign({},n)),s.createElement(c.Icon,{name:"chevron-right",size:8}))}return s.createElement("div",{ref:this.ref,className:`ui-menuitem ${t}`,onMouseEnter:this.sendSelectSignal,onMouseDown:this.mouseActivate},s.createElement(a.Label,Object.assign({},n)))}sendDismissSignal(){this.props.onDismissSignal&&this.props.onDismissSignal()}sendDismissSingleSignal(){this.props.onDismissSingleSignal&&this.props.onDismissSingleSignal()}sendSelectSignal(){this.props.onSelectSignal&&this.props.onSelectSignal()}}t.MenuItem=u},2351:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Range=void 0;const s=r(n(3804)),a=n(6333);class c extends s.Component{constructor(e){super(e),this.containerRef=s.createRef(),this.handleRef=s.createRef(),this.dragging=!1,this.handleOffset=a.makePt(0,0),this.mouseMoveHandler=e=>this.mouseMove(e),this.mouseUpHandler=e=>this.mouseUp(e),this.touchMoveHandler=e=>this.touchMove(e),this.touchEndHandler=e=>this.touchEnd(e),this.state={value:"pristine"}}clearWindowHandlers(){window.removeEventListener("mousemove",this.mouseMoveHandler),window.removeEventListener("mouseup",this.mouseUpHandler),window.removeEventListener("touchmove",this.touchMoveHandler,{capture:!0}),window.removeEventListener("touchend",this.touchEndHandler)}valueFromRects(){const{container:e,handle:t}=this.boundingRects(),n=this.props.max,o=this.props.min;if("2d"===this.props.direction){if("number"==typeof n||"number"==typeof o)throw new Error("min and max must be Size");const i=a.makeSz(e.width-t.width,e.height-t.height),r=a.makeSz(t.left-e.left,t.top-e.top);return a.makeSz(r.width*(n.width-o.width)/i.width+o.width,r.height*(n.height-o.height)/i.height+o.height)}if("number"!=typeof n||"number"!=typeof o)throw new Error("min and max must be number");if("vertical"!==this.props.direction){const i=e.width-t.width;return(t.left-e.left)*(n-o)/i+o}{const i=e.height-t.height;return(t.top-e.top)*(n-o)/i+o}}handleMouseDown(e){this.pointingGestureStart(e),e.preventDefault(),window.addEventListener("mousemove",this.mouseMoveHandler),window.addEventListener("mouseup",this.mouseUpHandler)}handleTouchStart(e){e.touches.length>0&&this.pointingGestureStart(e.touches[0]),e.preventDefault(),window.addEventListener("touchmove",this.touchMoveHandler,{capture:!0,passive:!1}),window.addEventListener("touchend",this.touchEndHandler)}mouseMove(e){this.pointingGestureMove(e),e.preventDefault()}mouseUp(e){this.pointingGestureEnd(e),this.clearWindowHandlers()}touchMove(e){e.touches.length>0&&(this.pointingGestureMove(e.touches[0]),e.preventDefault())}boundingRects(){if(!this.containerRef.current||!this.handleRef.current)throw new Error("Refs not ready");return{container:a.Rectangle.fromDOMRect(this.containerRef.current.getBoundingClientRect()),handle:a.Rectangle.fromDOMRect(this.handleRef.current.getBoundingClientRect())}}touchEnd(e){e.touches.length>0&&(this.pointingGestureEnd(e.touches[0]),e.preventDefault()),this.clearWindowHandlers()}pointingGestureStart(e){if(this.dragging=!0,this.refsReady){const{handle:t}=this.boundingRects();e.target===this.handleRef.current?this.handleOffset=a.makePt(e.clientX-t.left,e.clientY-t.top):this.handleOffset=a.makePt(t.width/2,t.height/2)}this.pointingGestureMove(e)}pointingGestureEnd(e){this.dragging=!1}pointingGestureMove(e){if(this.dragging&&this.refsReady){const{container:t,handle:n}=this.boundingRects();let o=e.clientX-t.left-this.handleOffset.x;o=Math.max(0,o),o=Math.min(t.width-n.width,o);let i=e.clientY-t.top-this.handleOffset.y;i=Math.max(0,i),i=Math.min(t.height-n.height,i),this.updateHandleOffset(o,i)}}updateHandleOffset(e,t){if(this.handleRef.current){const{direction:n}=this.props;"vertical"!==n&&(this.handleRef.current.style.left=`${e}px`),"vertical"!==n&&"2d"!==n||(this.handleRef.current.style.top=`${t}px`)}if(this.props.onChange){const e=this.valueFromRects();if("2d"===this.props.direction){const t=e;this.props.round?this.props.onChange(Math.round(t.width),Math.round(t.height)):this.props.onChange(t.width,t.height)}else this.props.round?this.props.onChange(Math.round(e)):this.props.onChange(e)}}handleOffsetFromValue(e){const{container:t,handle:n}=this.boundingRects();if("2d"===this.props.direction){const o=this.props.max,i=this.props.min,r=e,s=a.makeSz(t.width-n.width,t.height-n.height);return a.makeSz(r.width*s.width/(o.width-i.width),r.height*s.height/(o.height-i.height))}{const o=this.props.max,i=this.props.min,r=e;let s;return s="vertical"===this.props.direction?t.height-n.height:t.width-n.width,(r-i)*s/(o-i)}}updateHandleForValue(e){const t=this.handleOffsetFromValue(e);if("number"==typeof t)"vertical"===this.props.direction?this.handleRef.current.style.top=t+"px":this.handleRef.current.style.left=t+"px";else{const e=t;this.handleRef.current.style.left=e.width+"px",this.handleRef.current.style.top=e.height+"px"}}get refsReady(){return!!this.containerRef.current&&!!this.handleRef.current}componentDidMount(){!this.dragging&&this.refsReady&&void 0!==this.props.value&&this.updateHandleForValue(this.props.value)}componentDidUpdate(e,t,n){!this.dragging&&this.refsReady&&void 0!==this.props.value&&this.updateHandleForValue(this.props.value)}render(){const{containerStyle:e,handleStyle:t}=this.props;return s.createElement("div",{ref:this.containerRef,className:"ui-range",tabIndex:0,style:e,onMouseDown:e=>this.handleMouseDown(e),onTouchStart:e=>this.handleTouchStart(e)},s.createElement("div",{ref:this.handleRef,className:"handle",style:t,onMouseDown:e=>this.handleMouseDown(e),onTouchStart:e=>this.handleTouchStart(e)}))}}t.Range=c},1070:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Separator=void 0;const s=r(n(3804));class a extends s.Component{render(){return s.createElement("div",{className:"ui-separator"})}}t.Separator=a},2633:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DockView=void 0;const s=r(n(3804));class a extends s.Component{render(){const e=this.props.side||"left",t=this.props.length||300;let n={},o={};switch(e){case"left":n.width=t+"px",o.left=t+"px";break;case"right":n.width=t+"px",o.right=t+"px";break;case"top":n.height=t+"px",o.top=t+"px";break;case"bottom":n.height=t+"px",o.bottom=t+"px"}return s.createElement("div",{className:`ui-dock-view side-${e} ${this.props.classNames}`},s.createElement("div",{className:`dock-side ${this.props.sideClassNames||""}`,style:n},this.props.sideView),s.createElement("div",{className:`main-side ${this.props.containerClassNames||""}`,style:o},this.props.children))}}t.DockView=a},8529:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarView=void 0;const s=r(n(3804)),a=n(2633);class c extends s.Component{render(){const e=this.props.length||40,t=this.props.side||"top";return s.createElement(a.DockView,Object.assign({},this.props,{length:e,classNames:`ui-toolbar-view ${this.props.classNames||""}`,side:t,sideClassNames:`toolbar ${this.props.sideClassNames||""}`,sideView:s.createElement(s.Fragment,null,s.createElement("div",{className:"items near"},this.props.items),s.createElement("div",{className:"items center"},this.props.itemsCenter),s.createElement("div",{className:"items far"},this.props.itemsFar))}),this.props.children)}}t.ToolbarView=c},6570:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MenuOverlay=void 0;const s=r(n(3804)),a=n(1070),c=n(6333),l=n(4826);class d extends s.Component{constructor(e){super(e),this.separators=[],this.overlayRef=s.createRef(),this.state={},this.setOpenItem=this.setOpenItem.bind(this);const t=e=>"Enter"===e.key||" "===e.key,n=(e,t)=>{e.stopPropagation(),e.preventDefault(),t()};this.keyCaptureId=l.KeyCaptureStackHandler.instance.register((e=>{"ArrowDown"==e.key?n(e,this.selectNext.bind(this)):"ArrowUp"===e.key?n(e,this.selectPrev.bind(this)):"ArrowRight"===e.key||t(e)?(n(e,this.openCurrentIndex.bind(this)),t(e)&&this.setState({activatedIndex:this.state.selectedIndex})):"ArrowLeft"===e.key&&void 0!==this.props.parentMenuItem&&n(e,(()=>this.sendDismissSingleSignal()))}))}closeOpenedIndex(){void 0!==this.state.openIndex&&this.setState({openIndex:void 0})}componentWillUnmount(){l.KeyCaptureStackHandler.instance.unregister(this.keyCaptureId)}selectNext(){let e=-1;"number"==typeof this.state.selectedIndex&&(e=this.state.selectedIndex);let t=e+1;for(;void 0!==this.separators.find((e=>e===t));)t++;void 0!==this.childCount&&t>=this.childCount&&(t=0),this.setState({selectedIndex:t})}selectPrev(){let e=-1;"number"==typeof this.state.selectedIndex&&(e=this.state.selectedIndex);let t=e-1;for(;void 0!==this.separators.find((e=>e===t));)t--;t<0&&(t=void 0!==this.childCount?this.childCount-1:0),this.setState({selectedIndex:t})}openCurrentIndex(){void 0!==this.state.selectedIndex&&this.setOpenItem(this.state.selectedIndex)}correctPosition(){if(!this.overlayRef||!this.overlayRef.current)return;const e=c.Rectangle.fromDOMRect(this.overlayRef.current.getBoundingClientRect()),t={width:window.innerWidth,height:window.innerHeight},n=this.props.refRect;let o=e.clone();e.right>t.width&&(o=o.withRight(n.right)),e.bottom>t.height&&(o=o.withBottom(t.height)),o.equals(e)||(this.overlayRef.current.style.left=o.left+"px",this.overlayRef.current.style.top=o.top+"px")}setNoOpenItem(){this.setState({selectedIndex:void 0})}setOpenItem(e){this.setState({selectedIndex:e,openIndex:e})}setSelectedItem(e){this.setState({selectedIndex:e})}render(){const e={top:this.props.top+"px",left:this.props.left+"px",width:"auto",height:"auto"};return"number"==typeof this.props.height&&(e.height=this.props.height+"px"),"number"==typeof this.props.width&&(e.width=this.props.width+"px"),setTimeout((()=>{this.correctPosition()})),this.childCount=s.Children.count(this.props.children),this.separators=[],s.createElement("div",{ref:this.overlayRef,className:"ui-overlay ui-menu-overlay",style:e},s.Children.map(this.props.children,((e,t)=>(e.type===a.Separator&&this.separators.push(t),s.cloneElement(e,{onOpen:()=>this.setOpenItem(t),onClose:()=>this.setNoOpenItem(),onDismissSignal:()=>this.sendDismissSignal(),onDismissSingleSignal:()=>this.closeOpenedIndex(),onSelectSignal:()=>this.setSelectedItem(t),isSelected:t===this.state.selectedIndex,isOpen:t===this.state.openIndex,isActivated:t===this.state.activatedIndex,parent:this})))))}sendDismissSignal(){this.props.onDismissSignal&&this.props.onDismissSignal()}sendDismissSingleSignal(){this.props.onDismissSingleSignal&&this.props.onDismissSingleSignal()}}t.MenuOverlay=d},2629:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),n(4728),n(4512),n(7805),n(9620);const s=r(n(3804)),a=r(n(7196)),c=n(78);a.render(s.createElement(c.App,null),document.getElementById("root"))},6023:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BlobComposer=t.writeInt32LE=t.readInt32LE=t.readInt16LE=void 0,t.readInt16LE=function(e,t){return e[t+1]<<8|e[t]},t.readInt32LE=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},t.writeInt32LE=function(e,t,n){e[t]=255&n,e[t+1]=(65280&n)>>>8,e[t+2]=(16711680&n)>>>16,e[t+3]=(4278190080&n)>>>24},t.BlobComposer=class{constructor(){this.data=new Uint8ClampedArray(0)}getBlob(e){return new Blob([this.data.buffer],e)}writeBlob(e){return n(this,void 0,void 0,(function*(){this.writeBuffer(yield e.arrayBuffer())}))}writeBuffer(e){this.writeUint8Clamped(new Uint8ClampedArray(e))}writeUint8Clamped(e){const t=new Uint8ClampedArray(this.data.length+e.length);t.set(this.data,0),t.set(e,this.data.length),this.data=t}writeInt32LE(e){this.writeUint8Clamped(new Uint8ClampedArray([255&e,(65280&e)>>>8,(16711680&e)>>>16,(4278190080&e)>>>24]))}writeInt16LE(e){this.writeUint8Clamped(new Uint8ClampedArray([255&e,(65280&e)>>>8]))}}},9875:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BookController=t.changeFavicon=void 0;const i=n(5708),r=n(6333),s=n(900),a=n(5780),c=r.makeSz(32,32);function l(e){const t="dyna-favicon",n=document.getElementById(t);n&&document.head.removeChild(n);const o=document.createElement("link");o.id=t,o.rel="shortcut icon",o.href=e,document.head.appendChild(o)}t.changeFavicon=l,t.BookController=class{constructor(e){this.book=e,this.controllers=[],this.previews=[],this.onUpdated=()=>{},e.icons.forEach((e=>this.createIconController(e))),e.icons.length>0&&this.updatePreviews().then((()=>this.onUpdated("init load")))}createIconController(e){const t=new i.IconCanvasController({icon:e}),n=()=>{this.updatePreview(t.id).then((()=>this.onUpdated()))};return t.editor.documentSubmitted=()=>{n(),s.IconService.asBlobUrl(t.editor.document.icon).then((e=>l(e))),this.persist()},t.editor.documentChanged=()=>n(),this.controllers.push(t),t}updatePreview(e){return o(this,void 0,void 0,(function*(){const t=this.getIconController(e);if(t){const n=yield s.IconService.asBlobUrl(t.editor.document.icon),o=this.getPreview(e);o?o.data=n:this.previews.push({id:e,data:n})}}))}getBook(){return Object.assign(Object.assign({},this.book),{icons:this.controllers.map((e=>e.editor.document.icon))})}getIconController(e){return this.controllers.find((t=>t.id===e))||null}getPreview(e){return this.previews.find((t=>t.id===e))||null}addIcon(e,t=!1){const n=s.IconService.newIcon(e.width,e.height),o=this.createIconController(n);return this.updatePreview(o.id).then((()=>{t||this.onUpdated("addIcon")})),this.persist(),o}addIcons(e,t=!1){const n=[];for(const t of e)n.push(this.createIconController(t));return this.updatePreviews().then((()=>{t||this.onUpdated("addIcons")})),this.persist(),n}importIcoFile(e){return o(this,void 0,void 0,(function*(){const t=yield s.IconService.fromIcoBlob(e);return this.addIcons(t.icons)}))}persist(){a.DocumentService.saveIcons(this.controllers.map((e=>e.editor.document.icon))).then((()=>console.log("Saved"))).catch((()=>console.log("Error saving")))}removeIcon(e,t=!1){let n;return this.controllers=this.controllers.filter((t=>t.id!==e)),this.previews=this.previews.filter((t=>t.id!==e)),this.book.icons=this.controllers.map((e=>e.editor.document.icon)),0===this.controllers.length&&(n=this.addIcon(c,!1)),t||this.onUpdated("removeIcon"),this.persist(),n}updatePreviews(){return o(this,void 0,void 0,(function*(){return yield Promise.all(this.controllers.map((e=>this.updatePreview(e.id))))}))}get iconControllers(){return this.controllers}get iconPreviews(){return this.previews}}},6271:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BookService=void 0;const o=n(9977),i=n(900);t.BookService=class{static newBook(e){return{id:o.uuid(),icons:[i.IconService.newIcon(e.width,e.height)]}}static fromIcons(e){return{id:o.uuid(),icons:e}}}},717:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ClipboardService=t.ClipboardEmptyError=void 0;const o="image/png";class i extends Error{}t.ClipboardEmptyError=i,t.ClipboardService=class{static copyBlob(e,t){return n(this,void 0,void 0,(function*(){try{yield this.systemCopyBlob(e,t)}catch(t){this.buffer=e}}))}static pasteBlob(){return n(this,void 0,void 0,(function*(){try{return yield this.systemPasteBlob()}catch(e){return this.buffer?this.buffer:Promise.reject(new i)}}))}static systemCopyBlob(e,t){return n(this,void 0,void 0,(function*(){const n="ClipboardItem";if(!(n in window))return Promise.reject("No compatibility for clipboard copying");{const o=[new(0,window[n])({[t]:e})];try{yield navigator.clipboard.write(o)}catch(e){return Promise.reject("Error writing data to clipboard")}}}))}static systemCopyText(e){return n(this,void 0,void 0,(function*(){if(!(null===navigator||void 0===navigator?void 0:navigator.clipboard))return Promise.reject("No compatibility for clipboard copying");try{yield navigator.clipboard.writeText(e)}catch(e){return Promise.reject("Error writing data to clipboard")}}))}static systemPasteBlob(){return n(this,void 0,void 0,(function*(){const e=yield navigator.clipboard.read();let t=[];if(!(e&&e.length>0))return Promise.reject(new i);for(let n=0;n<e.length;n++){const i=e[n];if(e[n].types.indexOf(o)>=0){const e=yield i.getType(o);if(e)return e;t.push(`Can't read ${i.type} from clipboard`);break}t.push(`Unsupported MIME: ${i.type}`)}return Promise.reject(t)}))}}},5780:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentService=void 0;const o="icons-v1";function i(e){let t="";for(let n=0;n<e.length;n++){const o=e[n].toString(16);t+=1==o.length?"0"+o:o}return t}function r(e){const t=new Uint8ClampedArray(e.length/2);for(let n=0;n<t.length;n++){const o=e.charAt(2*n)+e.charAt(2*n+1);t[n]=parseInt(o,16)}return t}t.DocumentService=class{static saveIcons(e){return n(this,void 0,void 0,(function*(){try{window.localStorage.setItem(o,JSON.stringify(function(e){return e.map((e=>Object.assign(Object.assign({},e),{data:i(e.data)})))}(e)))}catch(e){return Promise.reject(e)}}))}static restoreIcons(){return n(this,void 0,void 0,(function*(){try{const e=String(window.localStorage.getItem(o));if(e){const t=JSON.parse(e);return t?t instanceof Array?t.map((e=>Object.assign(Object.assign({},e),{data:r(e.data)}))):Promise.reject(new Error):[]}return[]}catch(e){return Promise.reject(e)}}))}}},3450:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Editor=t.UnsavedChangesError=t.TransactionInProgressError=t.NoTransactionError=void 0;class n extends Error{}t.NoTransactionError=n;class o extends Error{}t.TransactionInProgressError=o;class i extends Error{}t.UnsavedChangesError=i,t.Editor=class{constructor(e){this._currentTransaction=null,this._hasChanges=!1,this._pristine=!0,this.undoStack=[],this.redoStack=[],this.documentChanged=null,this.documentSubmitted=null,this._document=e}redo(){if(0==this.redoStack.length)return!1;const e=this.redoStack.pop();return e&&(this.undoStack.push({documentState:this.document}),this._document=e.documentState,this.documentSubmitted&&this.documentSubmitted()),!0}undo(){if(0==this.undoStack.length)return!1;const e=this.undoStack.pop();return e&&(this.redoStack.push({documentState:this.document}),this._document=e.documentState,this.documentSubmitted&&this.documentSubmitted()),!0}begin(){if(this._currentTransaction)throw new o;this._currentTransaction={documentState:this._document}}setDocument(e){if(!this._currentTransaction)throw new n;this._document=e,this.documentChanged&&this.documentChanged()}commit(e){if(!this._currentTransaction)throw new n;for(e&&this.setDocument(e),this.undoStack.push(this._currentTransaction),this._currentTransaction=null;this.redoStack.length>0;)this.redoStack.pop();this._hasChanges=!0,this._pristine=!1,this.documentSubmitted&&this.documentSubmitted()}rollback(){if(!this._currentTransaction)throw new n;this._document=this._currentTransaction.documentState,this._currentTransaction=null,this.documentSubmitted&&this.documentSubmitted()}clearChanges(){this._hasChanges=!1}transact(e){this.begin(),this.commit(e)}get currentTransaction(){return this._currentTransaction}get document(){return this._document}get hasChanges(){return this._hasChanges}get pristine(){return this._pristine}get redoCount(){return this.redoStack.length}get redoPeek(){return this.redoStack.length>0?this.redoStack[this.redoStack.length-1].documentState:null}get undoCount(){return this.undoStack.length}get undoPeek(){return this.undoStack.length>0?this.undoStack[this.undoStack.length-1].documentState:null}}},5708:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.IconCanvasController=void 0;const i=n(373),r=n(9570),s=n(900),a=n(6010),c=n(6333),l=n(602),d=n(717),h=n(918),u=n(2514),p=n(9977),m="image/png";t.IconCanvasController=class{constructor(e){this.showBackground=!1,this.showGrid=!1,this.id=p.uuid(),this._tool=new r.PencilTool(this),this.previewBounds=c.Rectangle.empty,this.previewPixelSize=0,this.editor=e?new i.IconEditor(e):new i.IconEditor({icon:s.IconService.newIcon(16,16)})}colorFromPoint(e){const t=this.pointToData(e);if(t<0)return null;const n=this.editor.document.icon.data;return u.Color.fromTupleInt8([n[t],n[t+1],n[t+2],n[t+3]])}colorPicker(e){this._colorPicker=e}copy(){return o(this,void 0,void 0,(function*(){if(!this.editor.document.selectionSprite)return Promise.resolve();const e=yield s.IconService.asBlobWithMime(this.editor.document.selectionSprite,m);return d.ClipboardService.copyBlob(e,m)}))}cut(){return o(this,void 0,void 0,(function*(){if(!this.editor.document.selectionBuffer)throw new h.NoSelectionError;try{yield this.copy(),this.editor.transact(Object.assign(Object.assign({},this.editor.cloneDocument()),{icon:this.editor.document.selectionBuffer,selectionRegion:void 0,selectionSprite:void 0,selectionBuffer:void 0}))}catch(e){return Promise.reject(e)}}))}paste(){return o(this,void 0,void 0,(function*(){let e,t=!1,n=[];try{const n=yield d.ClipboardService.pasteBlob();e=yield this.importFile(n),t=!0}catch(e){if(e instanceof d.ClipboardEmptyError)return Promise.reject(e);e instanceof Array&&(n=[...e])}return{success:t,tool:e,warnings:n}}))}downloadAs(e,t=null){return o(this,void 0,void 0,(function*(){let n,o;"png"==e?(n=yield s.IconService.asBlobWithMime(this.editor.document.icon,m),o="favicon.png"):(n=yield s.IconService.asIcoBlob(t||[this.editor.document.icon]),o="favicon.ico");const i=document.createElement("a");i.href=URL.createObjectURL(n),i.download=o,i.click()}))}importFile(e){return o(this,void 0,void 0,(function*(){const t=this.editor.document.icon,n=c.makeSz(t.width,t.height),o=yield s.IconService.fromFile(e,n);if(this.pasteSprite(o),this.tool instanceof l.SelectionTool)return this.tool;const i=new l.SelectionTool(this);return this.tool=i,i}))}pasteSprite(e){const t=this.editor.cloneDocument(),n=new c.Rectangle(0,0,t.icon.width,t.icon.height),o=new c.Rectangle(0,0,e.width,e.height).centerAt(n.center).round();t.selectionRegion=o,t.selectionSprite=e,t.selectionBuffer=t.icon,t.icon=s.IconService.blend(t.selectionBuffer,t.selectionSprite,t.selectionRegion),this.editor.begin(),this.editor.setDocument(t),this.editor.commit()}pixelToData(e){return 4*this.editor.document.icon.width*e.y+4*e.x}pointToPixel(e){if(!this.previewBounds.contains(e))return null;const t=e.x-this.previewBounds.left,n=e.y-this.previewBounds.top;return c.makePt(Math.floor(t/this.previewPixelSize),Math.floor(n/this.previewPixelSize))}pointToData(e){if(!this.previewBounds.deflate(1,1).contains(e))return-1;const t=this.pointToPixel(e);return t?this.pixelToData(t):-1}pointingGestureStart(e){var t;if(this._colorPicker){const t=this.colorFromPoint(e.point);t&&(this._colorPicker(t),this._colorPicker=void 0)}else if(null===(t=this.tool)||void 0===t?void 0:t.pointingGestureStart)return this.tool.pointingGestureStart(e)}pointingGestureMove(e){var t;if(this._colorPicker){const t=this.colorFromPoint(e.point);t&&this._colorPicker(null,t)}else if(null===(t=this.tool)||void 0===t?void 0:t.pointingGestureMove)return this.tool.pointingGestureMove(e)}pointingGestureEnd(e){var t;if(null===(t=this.tool)||void 0===t?void 0:t.pointingGestureEnd)return this.tool.pointingGestureEnd(e)}keyDown(e){var t;if(null===(t=this.tool)||void 0===t?void 0:t.keyDown)return this.tool.keyDown(e)}keyUp(e){var t;if(null===(t=this.tool)||void 0===t?void 0:t.keyUp)return this.tool.keyUp(e)}render(e,t){const n=new c.Rectangle(0,0,t.width,t.height),o=n.deflate(10,10);if(e.clearRect(0,0,t.width,t.height),this.editor.document){const t=this.editor.document.icon,i=this.previewPixelSize=Math.min(o.size.width,o.size.height)/Math.min(t.width,t.height);this.previewBounds=new c.Rectangle(0,0,t.width*i,t.height*i).centerAt(n.center),new a.IconDocumentRenderer(this.editor.document,e,this.previewBounds,this.showBackground,this.showGrid).render()}}get iconSize(){return c.makeSz(this.editor.document.icon.width,this.editor.document.icon.height)}get tool(){return this._tool}set tool(e){var t,n;e!==this._tool&&((null===(t=this._tool)||void 0===t?void 0:t.deactivate)&&this._tool.deactivate(),this._tool=e,(null===(n=this._tool)||void 0===n?void 0:n.activate)&&this._tool.activate())}}},373:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IconEditor=void 0;const o=n(3450),i=n(900);class r extends o.Editor{cloneDocument(e){return void 0===e&&(e=this.document),Object.assign(Object.assign({},e),{icon:i.IconService.clone(e.icon)})}}t.IconEditor=r},8435:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IconReviewer=void 0;const o=n(2514),i=n(6333),r=n(5589),s=n(900),a=new o.Color(0,0,0,.9),c=new o.Color(0,255,0,.7);t.IconReviewer=class{constructor(e,t,n){this.original=e,this.sample=t,this.startCorner=n,this.current=Object.assign(Object.assign({},e),{data:new Uint8ClampedArray(e.data)});const r=t.width,s=t.height,c=[t.width,t.height];"nw"==n?this.hotspot=new i.Rectangle(0,0,...c):"ne"===n?this.hotspot=new i.Rectangle(e.width-r,0,...c):"se"===n?this.hotspot=new i.Rectangle(e.width-r,e.height-s,...c):"sw"===n&&(this.hotspot=new i.Rectangle(0,e.height-s,...c)),this.sampleSprite=new Uint8ClampedArray(t.width*t.height*4),this.tintRegion(new i.Rectangle(0,0,e.width,e.height),a),this.tintRegion(this.hotspot,o.Color.transparent),this.updateSampleSprite()}updateSampleSprite(){const e=(e,t,n)=>t*n*4+4*e;this.sampleSprite.forEach(((e,t)=>this.sampleSprite[t]=0));for(let t=0;t<this.sample.height;t++)for(let n=0;n<this.sample.height;n++){const o=this.hotspot.left+n,i=this.hotspot.top+t;if(o<0||i<0||o>=this.original.width||i>=this.original.height)continue;const r=e(n,t,this.sample.width),s=e(o,i,this.original.width);this.sampleSprite[r]=this.original.data[s],this.sampleSprite[r+1]=this.original.data[s+1],this.sampleSprite[r+2]=this.original.data[s+2],this.sampleSprite[r+3]=this.original.data[s+3]}}tintRegion(e,t){const n=(e,t)=>t*this.original.width*4+4*e;for(let i=e.top;i<e.bottom;i++)if(!(i<0||i>=this.original.height))for(let r=e.left;r<e.right;r++){if(r<0||r>=this.original.width)continue;const e=n(r,i),a=o.Color.fromInt8Array(this.original.data,e);s.compositeColor(a,t).copyToUint8(this.current.data,e)}}move(e){this.tintRegion(this.hotspot,c),"n"===e?this.hotspot=this.hotspot.offset(0,-this.sample.height):"s"===e?this.hotspot=this.hotspot.offset(0,this.sample.height):"e"===e?this.hotspot=this.hotspot.offset(this.sample.width,0):"w"===e&&(this.hotspot=this.hotspot.offset(-this.sample.width,0)),this.tintRegion(this.hotspot,o.Color.transparent),this.updateSampleSprite()}reviewImage(){const e=(e,t,n)=>t*n*4+4*e,t=document.createElement("canvas"),n=this.hotspot.inflate(this.sample.width,this.sample.height),o=this.current;t.width=n.width,t.height=n.height;const i=t.getContext("2d");if(!i)throw new r.GraphicsMemoryError;const s=new Uint8ClampedArray(n.width*n.height*4);let a=n.left,c=n.top;for(let t=0;t<n.height;t++)if(c<0||c>=this.current.height)c++;else{for(let i=0;i<n.width;i++){if(a<0||a>=this.current.width){a++;continue}const r=e(i,t,n.width),l=e(a,c,o.width);for(let e=0;e<=3;e++)s[r+e]=o.data[l+e];a++}a=n.left,c++}return i.putImageData(new ImageData(s,n.width),0,0),t}get currentHotspot(){return this.hotspot}}},900:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.IconService=t.compositeColor=void 0;const i=n(6333),r=n(2514),s=n(918),a=n(5364),c=n(6023);function l(e,t){const n=e.r,o=e.g,i=e.b,s=e.a,[a,c,l]=t.tupleInt8,d=t.a,h=Math.round(a*d+n*(1-d)),u=Math.round(c*d+o*(1-d)),p=Math.round(l*d+i*(1-d)),m=s+d*(1-s);return new r.Color(h,u,p,m)}t.compositeColor=l;class d{static clone(e){return Object.assign(Object.assign({},e),{data:new Uint8ClampedArray(e.data)})}static asCanvas(e){const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");if(!n)throw new s.MemoryError;return n.putImageData(this.asImageData(e),0,0),t}static asBlobWithMime(e,t="image/png"){return new Promise(((n,o)=>{this.asCanvas(e).toBlob((e=>{e?n(e):o(new s.MemoryError)}),t)}))}static asBlobUrl(e,t="image/png"){return o(this,void 0,void 0,(function*(){const n=yield this.asBlobWithMime(e,t);return URL.createObjectURL(n)}))}static asIcoBlob(e){return o(this,void 0,void 0,(function*(){const t=new c.BlobComposer,n=[];let o=0;t.writeUint8Clamped(new Uint8ClampedArray([0,0,1,0])),t.writeInt16LE(e.length);for(const i of e){const r=yield this.asBlobWithMime(i,"image/png");n.push(r),t.writeUint8Clamped(new Uint8ClampedArray([256===i.width?0:i.width,256===i.height?0:i.height,0,0,1,0,8,0]));const s=6+16*e.length+o;t.writeInt32LE(r.size),t.writeInt32LE(s),o+=r.size}for(const e of n)yield t.writeBlob(e);return t.getBlob()}))}static fromIcoBlob(e){return o(this,void 0,void 0,(function*(){const t=[],n=yield e.arrayBuffer(),o=new Uint8ClampedArray(n),i=c.readInt16LE(o,4);for(let e=0;e<i;e++){const n=6+16*e,i=o.slice(n,n+16),r=c.readInt32LE(i,8),s=c.readInt32LE(i,12),l=o.slice(s,s+r),h=new c.BlobComposer;h.writeUint8Clamped(new Uint8ClampedArray([0,0,1,0,1,0])),c.writeInt32LE(i,12,22),h.writeUint8Clamped(i),h.writeUint8Clamped(l);const u=h.getBlob({type:"image/x-icon"}),p=yield a.ImageService.fromFile(u);t.push(d.fromImage(p))}return{icons:t}}))}static asImageData(e){return new ImageData(e.data,e.width)}static fromCanvas(e,t=null){if(t||(t=e.getContext("2d")),!t)throw new s.MemoryError;const n=e.width,o=e.height;return{width:n,height:o,model:"rgba",data:t.getImageData(0,0,n,o).data}}static fromIcon(e,t){const n=new Uint8ClampedArray(t.width*t.height*4);return this.region32(e,t,((t,o)=>{n[o]=e.data[t],n[o+1]=e.data[t+1],n[o+2]=e.data[t+2],n[o+3]=e.data[t+3]})),{width:t.width,height:t.height,data:n,model:"rgba"}}static fromImage(e,t){const n=t?t.width:e.naturalWidth,o=t?t.height:e.naturalHeight;return{width:n,height:o,model:"rgba",data:a.ImageService.resize(e,i.makeSz(n,o))}}static fromFile(e,t,n=!1){return o(this,void 0,void 0,(function*(){const o=yield a.ImageService.fromFile(e);let r=o.width,s=o.height;if(t){const e=i.makeSz(r,s),o=e.width>t.width&&e.height>t.height||n?i.scaleToContain(t,e):e;r=Math.round(o.width),s=Math.round(o.height)}return this.fromImage(o,i.makeSz(r,s))}))}static newIcon(e,t,n="rgba"){return{width:e,height:t,model:n,data:new Uint8ClampedArray(e*t*4)}}static newIconWithBg(e,t,n){const o={width:e,height:t,model:"rgba",data:new Uint8ClampedArray(e*t*4)};for(let e=0;e<o.data.length;e+=4)o.data[e]=n.r,o.data[e+1]=n.g,o.data[e+2]=n.b,o.data[e+3]=255*n.a;return o}static pixelToData(e,t){return 4*t.width*e.y+4*e.x}static region32(e,t,n){let o=0;for(let r=t.top;r<t.bottom;r++)for(let s=t.left;s<t.right;s++)n(d.pixelToData(i.makePt(s,r),e),o),o+=4}static blend(e,t,n,o){if(n.width>t.width||n.height>t.height)throw new s.InvalidRegionError;o||(o=i.makePt(0,0));const a=this.clone(e);for(let s=0;s<n.height;s++)for(let c=0;c<n.width;c++){const d=this.pixelToData(i.makePt(n.left+c,n.top+s),e),h=this.pixelToData(i.makePt(c+o.x,s+o.y),t);l(r.Color.fromInt8Array(a.data,d),r.Color.fromInt8Array(t.data,h)).copyToUint8(a.data,d)}return a}}t.IconService=d},2901:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ImageAdjustService=void 0;const o=n(2514);t.ImageAdjustService=class{static brightness(e,t){for(let n=0;n<e.length;n+=4)e[n]=Math.max(Math.min(e[n]+t,255),0),e[n+1]=Math.max(Math.min(e[n+1]+t,255),0),e[n+2]=Math.max(Math.min(e[n+2]+t,255),0)}static contrast(e,t){const n=259*(t+255)/(255*(259-t)),o=128;for(let t=0;t<e.length;t+=4)e[t]=Math.max(Math.min(n*(e[t]-o)+o,255),0),e[t+1]=Math.max(Math.min(n*(e[t+1]-o)+o,255),0),e[t+2]=Math.max(Math.min(n*(e[t+2]-o)+o,255),0)}static dither(e,t,n,i,r=1,s=!0){const a=["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"];if(r<0||r>a.length-1)throw"Unknown dithering kernel: "+r;const c=new Map,l=(e,t,n)=>{const r=255<<24|n<<16|t<<8|e;if(c.has(r))return c.get(r);let s={distance:Number.MAX_SAFE_INTEGER,color:o.Color.white};for(const o of i){const i=Math.sqrt(Math.pow(e-o.r,2)+Math.pow(t-o.g,2)+Math.pow(n-o.b,2));i<s.distance&&(s={distance:i,color:o})}return c.set(r,s.color),s.color},d=(n,o)=>{const i=4*t*o+4*n;return[e[i],e[i+1],e[i+2]]},h=(n,o,i,r,s)=>{const a=4*t*o+4*n;e[a]=i,e[a+1]=r,e[a+2]=s};let u={FloydSteinberg:[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]],FalseFloydSteinberg:[[3/8,1,0],[3/8,0,1],[2/8,1,1]],Stucki:[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]],Atkinson:[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]],Jarvis:[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]],Burkes:[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]],Sierra:[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]],TwoSierra:[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]],SierraLite:[[.5,1,0],[1/4,-1,1],[1/4,0,1]]}[a[r]],p=s?-1:1;for(let e=0;e<n;e++){p*=s?-1:1;for(let o=1==p?0:t-1,i=1==p?t:-1;o!==i;o+=p){const[i,r,s]=d(o,e),[a,c,m]=l(i,r,s).tupleInt8;h(o,e,a,c,m);let g=i-a,f=r-c,A=s-m;for(let i=1==p?0:u.length-1,r=1==p?u.length:0;i!==r;i+=p){let r=o+u[i][1]*p,s=e+u[i][2];if(r>=0&&r<t&&s>=0&&s<n){let e=u[i][0];const[t,n,o]=d(r,s);h(r,s,Math.max(0,Math.min(255,t+g*e)),Math.max(0,Math.min(255,n+f*e)),Math.max(0,Math.min(255,o+A*e)))}}}}}}},5364:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ImageService=void 0;const o=n(918),i=n(6333),r=256;t.ImageService=class{static fromFile(e){return new Promise(((t,n)=>{const i=new FileReader;i.addEventListener("load",(e=>{if(e.target){const i=new Image;i.addEventListener("load",(()=>t(i))),i.addEventListener("error",(()=>n(new o.InvalidImageError))),i.src=e.target.result}else n(new o.MemoryError)})),i.addEventListener("error",(()=>n(new o.FileError))),i.readAsDataURL(e)}))}static resize(e,t){const n=e.width>r||e.height>r?i.scaleToContain(i.makeSz(r,r),t):t,s=document.createElement("canvas"),a=s.getContext("2d");if(!a)throw new o.MemoryError;s.width=n.width,s.height=n.height,a.drawImage(e,0,0,n.width,n.height);const c=a.getImageData(0,0,n.width,n.height);return t.width<=r||t.height<=r?this.resample(c,t):c.data}static resample(e,t){const n=e.width,o=e.height,i=Math.round(t.width),r=Math.round(t.height);let s=e.data,a=new Uint8ClampedArray(t.width*t.height*4),c=n/i,l=o/r,d=Math.ceil(c/2),h=Math.ceil(l/2);for(let e=0;e<r;e++)for(let t=0;t<i;t++){let o=4*(t+e*i),r=0,u=0,p=0,m=0,g=0,f=0,A=0,b=(e+.5)*l;for(let o=Math.floor(e*l);o<(e+1)*l;o++){let e=Math.abs(b-(o+.5))/h,i=(t+.5)*c,a=e*e;for(let e=Math.floor(t*c);e<(t+1)*c;e++){let t=Math.abs(i-(e+.5))/d,c=Math.sqrt(a+t*t);c>=-1&&c<=1&&(r=2*c*c*c-3*c*c+1,r>0&&(t=4*(e+o*n),A+=r*s[t+3],p+=r,s[t+3]<255&&(r=r*s[t+3]/250),m+=r*s[t],g+=r*s[t+1],f+=r*s[t+2],u+=r))}}a[o]=m/u,a[o+1]=g/u,a[o+2]=f/u,a[o+3]=A/p}return a}}},3223:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PaletteService=void 0;const i=n(9977),r="palettes-v1";t.PaletteService=class{static getAll(){return o(this,void 0,void 0,(function*(){try{const e=String(window.localStorage.getItem(r));if(e){const t=JSON.parse(e);return t?t instanceof Array?function(e){const t=[];for(const n of e)"1"===n.version&&t.push(n);return t}(t):Promise.reject(new Error):[]}return[]}catch(e){return Promise.reject(e)}}))}static upsert(e){return o(this,void 0,void 0,(function*(){e.id||(e.id=i.uuid()),e=Object.assign(Object.assign({},e),{unsaved:!1,version:"1"});const t=yield this.getAll(),n=t.findIndex((t=>t.id===e.id));n>=0?t[n]=e:t.push(e);try{return window.localStorage.setItem(r,JSON.stringify(t)),e}catch(e){return Promise.reject(e)}}))}}},918:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoClipboardAccessError=t.NoSelectionError=t.MemoryError=t.InvalidRegionError=t.FileError=t.InvalidImageError=void 0;class n extends Error{}t.InvalidImageError=n;class o extends Error{}t.FileError=o;class i extends Error{}t.InvalidRegionError=i;class r extends Error{}t.MemoryError=r;class s extends Error{}t.NoSelectionError=s;class a extends Error{}t.NoClipboardAccessError=a},491:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AdjustTool=void 0;const o=n(2514),i=n(2901);t.AdjustTool=class{constructor(e){this.controller=e,this.original=null}activate(){this.controller.editor.begin(),this.original=this.controller.editor.cloneDocument()}deactivate(){this.controller.editor.rollback()}apply(){this.controller.editor.commit(),this.original=this.controller.editor.cloneDocument(),this.controller.editor.begin()}updateAdjustments(e){if(!this.original)return!1;let t=!1;if(this.lastProps){for(let n in e)if(e[n]!==this.lastProps[n]){t=!0;break}}else t=!0;if(!t)return!1;const n=this.controller.editor.cloneDocument(this.original),r=n.icon,s=r.data,{palette:a,contrast:c,brightness:l,kernel:d,serpentine:h}=e;return"number"==typeof l&&0!==l&&i.ImageAdjustService.brightness(s,l),"number"==typeof c&&0!==c&&i.ImageAdjustService.contrast(s,c),a&&i.ImageAdjustService.dither(s,r.width,r.height,a.colors.map((e=>o.Color.fromHex(e.hex))),d||0,!!h),this.controller.editor.setDocument(n),this.lastProps=e,!0}}},1281:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EraserTool=void 0;const o=n(9570),i=n(2514);class r extends o.PencilTool{constructor(e){super(e),this.color=i.Color.transparent}useColor(e){}}t.EraserTool=r},6394:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FloodFillTool=void 0;const o=n(2514);t.FloodFillTool=class{constructor(e){this.controller=e,this.color=o.Color.black}fill(e){this.controller.editor.begin();const t=this.color.tupleInt8,n=this.controller.editor.cloneDocument(),i=n.icon.data,r=n.icon.width,s=this.controller.pixelToData(e),a=new o.Color(n.icon.data[s],n.icon.data[s+1],n.icon.data[s+2],n.icon.data[s+3]),c=[],l=[];let d=0;c.push(s);const h=()=>{for(;c.length>0;){if(d++,d>=3e4)return d=0,this.controller.editor.setDocument(n),void setTimeout((()=>{c.length>0&&h()}));const e=c.pop();if("number"==typeof e){const n=e>=0||e+3<i.length,s=a.equals(new o.Color(i[e],i[e+1],i[e+2],i[e+3]));!(l.indexOf(e)>=0)&&n&&s&&(i[e]=t[0],i[e+1]=t[1],i[e+2]=t[2],i[e+3]=t[3],c.push(e+4),c.push(e-4),c.push(e-4*r),c.push(e+4*r),l.push(e))}}this.controller.editor.commit(n)};h()}pointingGestureStart(e){const t=this.controller.pointToPixel(e.point);t&&this.fill(t)}useColor(e){this.color=e}}},2947:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PaletteComposerTool=void 0;const o=n(2514);t.PaletteComposerTool=class{constructor(e){this.controller=e,this.replace=null}deactivate(){this.controller.editor.currentTransaction&&this.controller.editor.rollback()}colorReplaceStart(){this.replace={document:this.controller.editor.cloneDocument()},this.controller.editor.begin()}colorReplaceCancel(){this.controller.editor.rollback()}colorReplaceSelectOld(e){if(!this.replace)throw new Error("No replace operation");this.replace.oldColor=e}colorReplaceSelectNew(e){if(!this.replace)throw new Error("No replace operation");if(!this.replace.oldColor)throw new Error("No color to replace");this.replace.newColor=e;const t=this.replace.oldColor,n=this.controller.editor.cloneDocument(this.replace.document),i=n.icon.data;for(let n=0;n<i.length;n+=4)o.Color.fromInt8Array(i,n).equals(t)&&e.copyToUint8(i,n);this.controller.editor.setDocument(n)}colorReplaceConfirm(e){this.controller.editor.commit()}}},9570:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PencilTool=void 0;const o=n(2514);t.PencilTool=class{constructor(e){this.controller=e,this.drawing=!1,this.color=new o.Color(0,0,0)}drawAt(e){const t=this.controller.pointToData(e);if(t<0)return;const n=this.controller.editor.cloneDocument(),o=n.icon.data;o[t]=this.color.r,o[t+1]=this.color.g,o[t+2]=this.color.b,o[t+3]=Math.round(255*this.color.a),this.controller.editor.setDocument(n)}pointingGestureStart(e){this.drawing=!0,this.controller.editor.currentTransaction||(this.controller.editor.begin(),this.drawAt(e.point))}pointingGestureMove(e){this.drawing&&this.drawAt(e.point)}pointingGestureEnd(e){this.drawing=!1,this.controller.editor.commit()}useColor(e){this.color=e}}},602:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionTool=void 0;const o=n(6333),i=n(900),r=n(918);t.SelectionTool=class{constructor(e){this.controller=e,this.selecting=!1,this.dragging=!1,this.dragOffset=o.makePt(0,0),this.startPixel=o.makePt(0,0),this._dragMode="sprite",this.editor=e.editor}clipOutSelection(e){if(e||(e=this.document),!e.selectionRegion)throw new Error;const t=i.IconService.clone(e.icon),n=i.IconService.fromIcon(t,e.selectionRegion);return i.IconService.region32(t,e.selectionRegion,((e,n)=>{t.data[e]=0,t.data[e+1]=0,t.data[e+2]=0,t.data[e+3]=0})),{buffer:t,sprite:n}}updateSelRegion(e,t){const n=this.editor.cloneDocument();n.selectionRegion=o.Rectangle.fromLTRB(Math.round(Math.min(e.x,t.x)),Math.round(Math.min(e.y,t.y)),Math.round(Math.max(e.x,t.x))+1,Math.round(Math.max(e.y,t.y))+1),this.editor.setDocument(n)}selectionDragEnded(){this.document.selectionRegion&&(this.selectRegion(this.document.selectionRegion,!1),this.selecting=!1)}pixelIsInsideSelection(e){return e&&this.document.selectionRegion&&this.document.selectionRegion.contains(e)}dragEnded(){this.dragging=!1,this.dragOffset=o.makePt(0,0)}updateDrag(e){this.moveSelection(e.x-this.dragOffset.x,e.y-this.dragOffset.y)}moveSelection(e,t){var n,s;if(!this.document.selectionRegion)throw new r.NoSelectionError;const a=this.document.icon,c=(null===(n=this.document.selectionSprite)||void 0===n?void 0:n.width)||this.document.selectionRegion.width,l=(null===(s=this.document.selectionSprite)||void 0===s?void 0:s.height)||this.document.selectionRegion.height;e=Math.max(-c,e),e=Math.min(a.width,e),t=Math.max(-l,t),t=Math.min(a.height,t);const d=new o.Rectangle(e,t,c,l),h=o.makePt(d.left<0?Math.abs(d.left):0,d.top<0?Math.abs(d.top):0),u=o.Rectangle.fromLTRB(d.left<0?0:d.left,d.top<0?0:d.top,d.right>a.width?a.width:d.right,d.bottom>a.height?a.height:d.bottom);let p;if("sprite"===this.dragMode){if(!this.document.selectionSprite||!this.document.selectionBuffer)throw new r.NoSelectionError;const{selectionBuffer:e,selectionSprite:t}=this.document;p=Object.assign(Object.assign({},this.editor.cloneDocument()),{selectionRegion:u,icon:i.IconService.blend(e,t,u,h)})}else p=Object.assign(Object.assign({},this.editor.cloneDocument()),{selectionRegion:u,selectionBuffer:void 0,selectionSprite:void 0});this.editor.currentTransaction?this.editor.setDocument(p):this.editor.transact(p)}offsetSelection(e,t){if(!this.document.selectionRegion||!this.document.selectionSprite)throw new r.NoSelectionError;const n=this.document.selectionSprite,o=this.document.selectionRegion;let i=o.right-n.width,s=o.bottom-n.height;i=i<0?i:0,s=s<0?s:0,this.moveSelection(o.left+e+i,o.top+t+s)}saveDragOffset(e){if(!this.document.selectionRegion)throw new r.NoSelectionError;this.dragOffset=o.makePt(e.x-this.document.selectionRegion.left,e.y-this.document.selectionRegion.top)}selectRegion(e,t=!0){let n=Object.assign(Object.assign({},this.editor.cloneDocument()),{selectionRegion:e});if("sprite"===this.dragMode){const{buffer:e,sprite:t}=this.clipOutSelection(n);n=Object.assign(Object.assign({},n),{selectionBuffer:e,selectionSprite:t})}t?this.editor.transact(n):this.editor.setDocument(n)}selectAll(){const e=this.document.icon;this.selectRegion(o.Rectangle.fromSize(o.makeSz(e.width,e.height)))}clearSelection(){const e=this.editor.cloneDocument();e.selectionRegion=e.selectionSprite=e.selectionBuffer=void 0,this.editor.begin(),this.editor.setDocument(e),this.editor.commit()}cropToSelection(){const e=this.editor.document.selectionSprite;if(!e)throw new r.NoSelectionError;this.editor.transact({icon:e})}deactivate(){this.document.selectionRegion&&this.clearSelection()}deleteSelection(){const e=this.editor.cloneDocument();e.icon=e.selectionBuffer,e.selectionSprite=e.selectionBuffer=e.selectionRegion=void 0,this.editor.begin(),this.editor.setDocument(e),this.editor.commit()}pointingGestureStart(e){const t=this.controller.pointToPixel(e.point);t&&(this.startPixel=t,this.editor.begin(),this.pixelIsInsideSelection(t)?(this.dragging=!0,this.saveDragOffset(t)):this.selecting=!0)}pointingGestureEnd(e){const t=this.controller.pointToPixel(e.point);if(this.selecting&&this.selectionDragEnded(),this.dragging&&this.dragEnded(),this.editor.currentTransaction&&this.editor.commit(),this.pixelIsInsideSelection(t))return{cursor:"move"}}pointingGestureMove(e){const t=this.controller.pointToPixel(e.point);if(t)if(this.selecting)this.updateSelRegion(this.startPixel,t);else if(this.dragging)this.updateDrag(t);else if(this.pixelIsInsideSelection(t))return{cursor:"move"};return{cursor:"crosshair"}}keyDown(e){"Escape"==e.key?this.clearSelection():"Delete"==e.key||"Backspace"==e.key?this.deleteSelection():"ArrowLeft"==e.key?this.offsetSelection(-1,0):"ArrowRight"==e.key?this.offsetSelection(1,0):"ArrowUp"==e.key?this.offsetSelection(0,-1):"ArrowDown"==e.key&&this.offsetSelection(0,1)}get document(){return this.editor.document}get dragMode(){return this._dragMode}set dragMode(e){e!==this._dragMode&&(this._dragMode=e,this.document.selectionRegion&&this.selectRegion(this.document.selectionRegion))}}},6010:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IconDocumentRenderer=void 0;const o=n(6333),i=n(2514),r=n(918),s=n(5120),a=n(1373),c=s.darkModeOn(),l=i.Color.fromHex(c?"fff":"000").withAlpha(.05),d=(i.Color.fromHex(c?"#4C4A4A":"#e0e0e0"),i.Color.fromHex(c?"fff":"000").withAlpha(.05)),h=i.Color.transparent,u=i.Color.fromHex(c?"fff":"000").withAlpha(.05),p=i.Color.fromHex(c?"fff":"000").withAlpha(.05);class m{constructor(e,t,n,o,i){this.document=e,this.context=t,this.plateBounds=n,this.drawBackground=o,this.drawGrid=i,this.bounds=this.plateBounds.deflate(10,10)}static getPixelsBuffer(e){if(this.pixelsBuffer&&this.pixelsBuffer.width===e.width&&this.pixelsBuffer.height===e.height||(this.pixelsBuffer=document.createElement("canvas"),this.pixelsBuffer.width=e.width,this.pixelsBuffer.height=e.height,this.pixelsContext=this.pixelsBuffer.getContext("2d")),!this.pixelsContext)throw new r.MemoryError;return{canvas:this.pixelsBuffer,cx:this.pixelsContext}}static getPattern(e){if(!m.checkerCanvas){const e=m.checkerCanvas=document.createElement("canvas");e.width=e.height=10;const t=e.getContext("2d"),n=5;if(!t)return null;h.isTransparent||(t.fillStyle=h.cssRgba,t.fillRect(0,0,n,n),t.fillRect(n,n,n,n)),u.isTransparent||(t.fillStyle=u.cssRgba,t.fillRect(n,0,n,n),t.fillRect(0,n,n,n))}const t=m.checkerCanvas;return e.createPattern(t,"repeat")}pathRoundRect(e,t=10){const n=this.context,{x:o,y:i}=e.location,{width:r,height:s}=e.size;"number"==typeof t&&(t={tl:t,tr:t,br:t,bl:t}),n.beginPath(),n.moveTo(o+t.tl,i),n.lineTo(o+r-t.tr,i),n.quadraticCurveTo(o+r,i,o+r,i+t.tr),n.lineTo(o+r,i+s-t.br),n.quadraticCurveTo(o+r,i+s,o+r-t.br,i+s),n.lineTo(o+t.bl,i+s),n.quadraticCurveTo(o,i+s,o,i+s-t.bl),n.lineTo(o,i+t.tl),n.quadraticCurveTo(o,i,o+t.tl,i),n.closePath()}pathLines(e){const t=this.context;t.beginPath();for(const n of e)t.moveTo(n[0].x,n[0].y),t.lineTo(n[1].x,n[1].y)}renderPixels(e){const{canvas:t,cx:n}=m.getPixelsBuffer(o.makeSz(this.document.icon.width,this.document.icon.height));n.putImageData(new ImageData(this.document.icon.data,this.document.icon.width),0,0),this.context.imageSmoothingEnabled=!1,this.context.drawImage(t,...this.bounds.tuple),this.context.imageSmoothingEnabled=!0}renderGrid(e){const t=this.context,n=this.document.icon,o=this.bounds;t.beginPath();let i=this.bounds.left,r=this.bounds.top;for(let r=0;r<=n.width;r++)t.moveTo(i,o.top),t.lineTo(i,o.bottom),i+=e.width;for(let i=0;i<=n.height;i++)t.moveTo(o.left,r),t.lineTo(o.right,r),r+=e.height;t.strokeStyle=d.cssRgba,t.stroke()}renderFrame(){const e=this.plateBounds;this.pathLines([e.offset(0,10).northSegment,e.offset(-10,0).eastSegment,e.offset(0,-10).southSegment,e.offset(10,0).westSegment]),this.context.strokeStyle=l.cssRgba,this.context.stroke()}renderChecker(){const e=m.getPattern(this.context);e&&(this.context.fillStyle=e,this.context.fillRect(...this.bounds.tuple))}renderSelection(e){if(!this.document.selectionRegion)return;const t=this.document.selectionRegion,n=new o.Rectangle(this.bounds.left+t.left*e.width,this.bounds.top+t.top*e.height,t.width*e.width,t.height*e.height).round();m.clock++,m.clock%4==0&&(m.clockReminder++,9===m.clockReminder&&(m.clockReminder=0)),a.MarchingAnts.rectangle(this.context,n,i.Color.black,i.Color.white,m.clockReminder)}drawPlate(){this.pathRoundRect(this.plateBounds,10),this.context.fillStyle=p.cssRgba,this.context.fill()}render(){const e=o.makeSz(this.bounds.width/this.document.icon.width,this.bounds.height/this.document.icon.height);this.drawBackground&&this.renderChecker(),this.renderPixels(e),this.drawGrid&&this.renderGrid(e),this.document.selectionRegion&&this.renderSelection(e)}}t.IconDocumentRenderer=m,m.clock=0,m.clockReminder=0,m.checkerCanvas=null,m.pixelsBuffer=null,m.pixelsContext=null},1373:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MarchingAnts=void 0;const o=n(6333),i=n(2514);t.MarchingAnts=class{static line(e,t,n,r=i.Color.black,s=i.Color.white,a=0){a%=8;const c=e.lineWidth;e.lineWidth=1.5;const l=new Array(Math.round(o.distance(t,n)/5)).fill(5);switch(a){case 0:e.setLineDash([1,...l]);break;case 1:e.setLineDash([2,...l]);break;case 2:e.setLineDash([3,...l]);break;case 3:e.setLineDash([4,...l]);break;case 4:e.setLineDash([5,5]);break;case 5:e.setLineDash([0,1,...l]);break;case 6:e.setLineDash([0,2,...l]);break;case 7:e.setLineDash([0,3,...l]);break;case 8:e.setLineDash([0,4,...l])}switch(e.strokeStyle=r.cssRgba,e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.stroke(),a){case 0:e.setLineDash([0,1,...l]);break;case 1:e.setLineDash([0,2,...l]);break;case 2:e.setLineDash([0,3,...l]);break;case 3:e.setLineDash([0,4,...l]);break;case 4:e.setLineDash([0,5,...l]);break;case 5:e.setLineDash([1,...l]);break;case 6:e.setLineDash([2,...l]);break;case 7:e.setLineDash([3,...l]);break;case 8:e.setLineDash([4,...l])}e.strokeStyle=s.cssRgba,e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.stroke(),e.setLineDash([]),e.lineWidth=c}static rectangle(e,t,n=i.Color.black,o=i.Color.white,r=0){const s=[[t.northWest,t.northEast],[t.northEast,t.southEast],[t.southEast,t.southWest],[t.southWest,t.northWest]];for(const[t,i]of s)this.line(e,t,i,n,o,r)}}},1736:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ReviewRenderer=t.marchingAntsMarker=void 0;const o=n(6333),i=n(1373),r=n(900),s=n(2514);function a(e,t,n){const r=o.makePt(t.left,n.top),s=o.makePt(t.right,n.top),a=o.makePt(t.left,n.bottom),c=o.makePt(t.right,n.bottom),l=o.makePt(n.left,t.top),d=o.makePt(n.left,t.bottom),h=o.makePt(n.right,t.top),u=o.makePt(n.right,t.bottom);i.MarchingAnts.line(e,r,s),i.MarchingAnts.line(e,a,c),i.MarchingAnts.line(e,l,d),i.MarchingAnts.line(e,h,u)}t.marchingAntsMarker=a,t.ReviewRenderer=class{constructor(e,t){this.reviewer=e,this.palette=t}colorName(e){if(this.palette)for(const t of this.palette.colors)if(t.hex===e.hexRgb){if(t.name)return t.name;break}return e.isTransparent?"Nothing":e.hexRgb.toUpperCase()}drawCode(e,t,n){const i=this.colorName(t),r=e.measureText(i),s=o.makeSz(r.width,r.actualBoundingBoxDescent),a=o.Rectangle.fromSize(s).centerAt(n.center).offset(0,9);e.fillStyle=t.relativeLuminance>.5?"black":"white",e.font="18px 'Mukta Mahee', 'San Francisco', 'Helvetica', sans-serif",e.fillText(i,a.left,a.top,n.width)}drawColorCodes(e,t,n,i){const r=o.makeSz(n.width/i.width,n.height/i.height);for(let a=0;a<i.height;a++)for(let c=0;c<i.width;c++){const l=i.width*a*4+4*c,d=s.Color.fromTupleInt8([t[l],t[l+1],t[l+2],t[l+3]]),h=new o.Rectangle(n.left+c*r.width,n.top+a*r.height,r.width,r.height);this.drawCode(e,d,h)}}renderPreview(e,t){const n=r.IconService.asCanvas(this.reviewer.current),i=n.width,s=n.height,c=t.width,l=t.height;e.clearRect(0,0,c,l),e.imageSmoothingEnabled=!1,e.drawImage(n,0,0,c,l);const d=this.reviewer.sample.width,h=this.reviewer.sample.height,u=new o.Rectangle(0,0,c,l),p=o.makeSz(c/i,l/s),m=o.makeSz(d*p.width,h*p.height),g=o.makePt(p.width*this.reviewer.currentHotspot.left,p.height*this.reviewer.currentHotspot.top);a(e,u,o.Rectangle.fromPoint(g).withSize(m))}renderReview(e,t){const n=this.reviewer.reviewImage(),i=e,r=this.reviewer.sample,s=o.makeSz(n.width,n.height),c=o.Rectangle.fromSize(o.scaleToContain(t,s)).centerAt(o.Rectangle.fromSize(t).center);i.clearRect(0,0,t.width,t.height),i.imageSmoothingEnabled=!1,i.drawImage(n,...c.tuple);const l=o.makeSz(c.width/n.width,c.height/n.height),d=new o.Rectangle(c.left+l.width*r.width,c.top+l.height*r.height,l.width*r.width,l.height*r.height);a(i,c,d),this.drawColorCodes(i,this.reviewer.sampleSprite,d,r)}}},3804:e=>{e.exports=React},7196:e=>{e.exports=ReactDOM}},t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={id:o,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/dist/",n(2629)})();
//# sourceMappingURL=main.js.map